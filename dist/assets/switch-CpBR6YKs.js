import{j as d,ao as x,aj as I,o as u,ak as M,an as y,am as A,ap as H,Z as U,q as S}from"./index-D9dO6jDR.js";import{u as q}from"./index-B6rWjmp5.js";var w="Switch",[D]=M(w),[z,L]=D(w),P=d.forwardRef((n,l)=>{const{__scopeSwitch:t,name:c,checked:r,defaultChecked:h,required:o,disabled:i,value:a="on",onCheckedChange:b,form:s,...p}=n,[f,e]=d.useState(null),m=x(l,v=>e(v)),C=d.useRef(!1),g=f?s||!!f.closest("form"):!0,[k,T]=I({prop:r,defaultProp:h??!1,onChange:b,caller:w});return u.jsxs(z,{scope:t,checked:k,disabled:i,children:[u.jsx(y.button,{type:"button",role:"switch","aria-checked":k,"aria-required":o,"data-state":B(k),"data-disabled":i?"":void 0,disabled:i,value:a,...p,ref:m,onClick:A(n.onClick,v=>{T(_=>!_),g&&(C.current=v.isPropagationStopped(),C.current||v.stopPropagation())})}),g&&u.jsx(j,{control:f,bubbles:!C.current,name:c,value:a,checked:k,required:o,disabled:i,form:s,style:{transform:"translateX(-100%)"}})]})});P.displayName=w;var E="SwitchThumb",R=d.forwardRef((n,l)=>{const{__scopeSwitch:t,...c}=n,r=L(E,t);return u.jsx(y.span,{"data-state":B(r.checked),"data-disabled":r.disabled?"":void 0,...c,ref:l})});R.displayName=E;var O="SwitchBubbleInput",j=d.forwardRef(({__scopeSwitch:n,control:l,checked:t,bubbles:c=!0,...r},h)=>{const o=d.useRef(null),i=x(o,h),a=q(t),b=H(l);return d.useEffect(()=>{const s=o.current;if(!s)return;const p=window.HTMLInputElement.prototype,e=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==t&&e){const m=new Event("click",{bubbles:c});e.call(s,t),s.dispatchEvent(m)}},[a,t,c]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:i,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});j.displayName=O;function B(n){return n?"checked":"unchecked"}var N=P,F=R;const W=d.forwardRef(({className:n,toolId:l,pagePath:t,onCheckedChange:c,onPointerDownCapture:r,onClick:h,...o},i)=>{const a=U(),b=l??(typeof o.id=="string"?o.id:void 0),s=!!(!o.disabled&&a&&!a.canUseTool(b,t)),p=(e,m)=>{if(s){e.preventDefault(),e.stopPropagation(),a?.notifyToolBlocked();return}m?.(e)},f=e=>{if(s){a?.notifyToolBlocked();return}c?.(e)};return u.jsx(N,{className:S("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",n,s&&"opacity-50 cursor-not-allowed"),...o,ref:i,"aria-disabled":o["aria-disabled"]??s,onCheckedChange:f,onPointerDownCapture:e=>p(e,r),onClick:e=>p(e,h),children:u.jsx(F,{className:S("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});W.displayName=N.displayName;export{W as S};
