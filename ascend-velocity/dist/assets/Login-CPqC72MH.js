import{j as d,B as E,E as y,F as S,o as e,L as a,G as A,N as _,H as r}from"./index-DidJ2IC_.js";import{G as k}from"./GlassCard-i8sBZgct.js";import{I as u}from"./input-RWOkaWNK.js";import{L as x}from"./label-i_K-zmDS.js";import{L as C}from"./Logo-kKC3Ri1E.js";import{F as L}from"./index-BH-fAadi.js";import{E as G}from"./eye-off-B_hBQIHd.js";import"./index-DKXZ3643.js";function q(){const[t,h]=d.useState(""),[o,f]=d.useState(""),[n,p]=d.useState(!1),{loginWithEmail:g,loginWithGoogle:b}=E(),m=y(),[j]=S(),i=j.get("redirect"),l=i&&i.startsWith("/")?i:null,N=async s=>{if(s.preventDefault(),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){r.error("Informe um e-mail válido.");return}if(!o){r.error("Informe sua senha.");return}const c=await g(t,o);if(c.success)r.success("Bem-vindo de volta!"),m(l||"/dashboard");else{if(c.error==="config_missing"){r.error("Configuração do Supabase ausente. Defina VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY.");return}const w=c.error||"Credenciais inválidas.";r.error(w)}},v=async()=>{const s=await b(l);if(!s.success){if(s.error==="config_missing"){r.error("Configuração do Supabase ausente. Defina VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY.");return}r.error(s.error||"Erro ao conectar com Google")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[e.jsx(a,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:e.jsx(C,{className:"h-12 w-auto",alt:"Guildas"})}),e.jsxs(k,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Bem-vindo de volta"}),e.jsx("p",{className:"text-muted-foreground",children:"Entre para acessar seu dashboard"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("button",{type:"button",onClick:v,className:"w-full flex items-center justify-center gap-2 bg-white text-black hover:bg-gray-100 border border-gray-200 dark:border-transparent font-medium py-2.5 px-4 rounded-xl transition-colors",children:[e.jsx(L,{className:"w-5 h-5"}),"Continuar com Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-border dark:border-white/10"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background dark:bg-[#0A0A0A] px-2 text-muted-foreground",children:"Ou entre com email"})})]})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:s=>h(s.target.value),className:"glass-card border-border dark:border-white/10",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{htmlFor:"password",children:"Senha"}),e.jsx(a,{to:"/forgot-password",className:"text-sm text-neon-blue hover:underline",children:"Esqueceu?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{id:"password",type:n?"text":"password",placeholder:"••••••••",value:o,onChange:s=>f(s.target.value),className:"glass-card border-border dark:border-white/10 pr-12",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(s=>!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","aria-label":n?"Ocultar senha":"Mostrar senha",children:n?e.jsx(G,{className:"w-5 h-5"}):e.jsx(A,{className:"w-5 h-5"})})]})]}),e.jsx(_,{type:"submit",variant:"neon",className:"w-full",children:"Entrar"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-muted-foreground",children:["Não tem uma conta?"," ",e.jsx(a,{to:"/signup",className:"text-neon-blue hover:underline font-medium",children:"Criar conta grátis"})]})})]}),e.jsxs("p",{className:"text-center text-muted-foreground text-sm mt-6",children:["Ao continuar, você concorda com nossos"," ",e.jsx(a,{to:"/",className:"text-neon-blue hover:underline",children:"Termos de Uso"})]})]})})}export{q as default};
