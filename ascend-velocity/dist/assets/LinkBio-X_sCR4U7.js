import{c as xt,j as o,aj as Ea,o as e,ak as Ba,al as _a,am as ut,an as kt,ao as gt,ap as Ra,q as Da,N as or,aq as $t,G as Ma,H as L,Y as Aa,B as $a,E as Ua,Z as za,ar as ct,I as X,ai as Ha,a0 as Va,t as Ze,X as Rt,S as Ga,M as qa,as as Oa,a5 as Ka,a6 as Wa,a7 as Ya,a9 as Ja,K as Xa}from"./index-DidJ2IC_.js";import{G as Qa}from"./GlassCard-i8sBZgct.js";import{I as q}from"./input-RWOkaWNK.js";import{L as w}from"./label-i_K-zmDS.js";import{T as Ut,a as zt,b as Ge,c as qe}from"./tabs-BkiDHpMy.js";import{S as Dt}from"./switch-6ZvdsyJf.js";import{c as Kr}from"./index-BdQq_4o_.js";import{u as Za}from"./index-CKOwKrdC.js";import{u as es}from"./index-CffAzoJ_.js";import{D as nr,a as lr,c as ir,b as dr,e as cr,d as Tr}from"./dialog-CdV5WMHG.js";import{S as Ue,a as ze,b as He,c as Ve,d as k}from"./select-IPP1C8dB.js";import{B as ve}from"./button-DTTbzLxY.js";import{S as ts}from"./scroll-area-xaH2eTj_.js";import{P as Ht,T as Wr}from"./type-BtpS6bEe.js";import{S as Ir}from"./square-pen-CUrgifGC.js";import{I as De}from"./image-CIWE8ilc.js";import{T as ur}from"./trash-2-CBwffM0k.js";import{b as Fr,a as Pr,c as Lr,d as Er,e as Br,f as _r,g as Rr,h as Dr,i as Mr,j as Ar}from"./index-BH-fAadi.js";import{R as rs}from"./rotate-ccw-DceCIlGv.js";import{L as Mt}from"./loader-circle-C3o50RmB.js";import{C as At}from"./check-CZK48_mu.js";import{C as $r}from"./copy-BCdtcoO7.js";import{E as as}from"./external-link-81adldy9.js";import{S as ss,P as Ur}from"./save-B2j7QD-S.js";import{P as Zt}from"./plus-C9Z0pS98.js";import{R as os,a as ns,G as ls}from"./Item-DF3WgWnt.js";import{S as is}from"./search-CTyYii5Y.js";import"./index-DKXZ3643.js";import"./index-D2QiG8fX.js";import"./index-KU_foAP1.js";import"./index-B17yf-n8.js";import"./chevron-down-CdB_TWMf.js";const ds=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],cs=xt("arrow-down-to-line",ds);const us=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],er=xt("globe",us);const ms=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xs=xt("info",ms);const gs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],mr=xt("panels-top-left",gs);const hs=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ps=xt("share-2",hs);const bs=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],fs=xt("shopping-bag",bs);var Yr=["PageUp","PageDown"],Jr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Xr={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ht="Slider",[xr,vs,ws]=_a(ht),[Qr]=Ba(ht,[ws]),[js,Vt]=Qr(ht),Zr=o.forwardRef((a,d)=>{const{name:u,min:x=0,max:v=100,step:S=1,orientation:N="horizontal",disabled:l=!1,minStepsBetweenThumbs:D=0,defaultValue:W=[x],value:O,onValueChange:j=()=>{},onValueCommit:$=()=>{},inverted:U=!1,form:_,...E}=a,C=o.useRef(new Set),R=o.useRef(0),Y=N==="horizontal"?ys:Ns,[T=[],ee]=Ea({prop:O,defaultProp:W,onChange:H=>{[...C.current][R.current]?.focus(),j(H)}}),pe=o.useRef(T);function se(H){const me=Is(T,H);Q(H,me)}function we(H){Q(H,R.current)}function ue(){const H=pe.current[R.current];T[R.current]!==H&&$(T)}function Q(H,me,{commit:oe}={commit:!1}){const je=Es(S),te=Bs(Math.round((H-x)/S)*S+x,je),K=Kr(te,[x,v]);ee((V=[])=>{const ie=Cs(V,K,me);if(Ls(ie,D*S)){R.current=ie.indexOf(K);const Pe=String(ie)!==String(V);return Pe&&oe&&$(ie),Pe?ie:V}else return V})}return e.jsx(js,{scope:a.__scopeSlider,name:u,disabled:l,min:x,max:v,valueIndexToChangeRef:R,thumbs:C.current,values:T,orientation:N,form:_,children:e.jsx(xr.Provider,{scope:a.__scopeSlider,children:e.jsx(xr.Slot,{scope:a.__scopeSlider,children:e.jsx(Y,{"aria-disabled":l,"data-disabled":l?"":void 0,...E,ref:d,onPointerDown:ut(E.onPointerDown,()=>{l||(pe.current=T)}),min:x,max:v,inverted:U,onSlideStart:l?void 0:se,onSlideMove:l?void 0:we,onSlideEnd:l?void 0:ue,onHomeKeyDown:()=>!l&&Q(x,0,{commit:!0}),onEndKeyDown:()=>!l&&Q(v,T.length-1,{commit:!0}),onStepKeyDown:({event:H,direction:me})=>{if(!l){const te=Yr.includes(H.key)||H.shiftKey&&Jr.includes(H.key)?10:1,K=R.current,V=T[K],ie=S*te*me;Q(V+ie,K,{commit:!0})}}})})})})});Zr.displayName=ht;var[ea,ta]=Qr(ht,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ys=o.forwardRef((a,d)=>{const{min:u,max:x,dir:v,inverted:S,onSlideStart:N,onSlideMove:l,onSlideEnd:D,onStepKeyDown:W,...O}=a,[j,$]=o.useState(null),U=gt(d,Y=>$(Y)),_=o.useRef(void 0),E=Za(v),C=E==="ltr",R=C&&!S||!C&&S;function z(Y){const T=_.current||j.getBoundingClientRect(),ee=[0,T.width],se=pr(ee,R?[u,x]:[x,u]);return _.current=T,se(Y-T.left)}return e.jsx(ea,{scope:a.__scopeSlider,startEdge:R?"left":"right",endEdge:R?"right":"left",direction:R?1:-1,size:"width",children:e.jsx(ra,{dir:E,"data-orientation":"horizontal",...O,ref:U,style:{...O.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:Y=>{const T=z(Y.clientX);N?.(T)},onSlideMove:Y=>{const T=z(Y.clientX);l?.(T)},onSlideEnd:()=>{_.current=void 0,D?.()},onStepKeyDown:Y=>{const ee=Xr[R?"from-left":"from-right"].includes(Y.key);W?.({event:Y,direction:ee?-1:1})}})})}),Ns=o.forwardRef((a,d)=>{const{min:u,max:x,inverted:v,onSlideStart:S,onSlideMove:N,onSlideEnd:l,onStepKeyDown:D,...W}=a,O=o.useRef(null),j=gt(d,O),$=o.useRef(void 0),U=!v;function _(E){const C=$.current||O.current.getBoundingClientRect(),R=[0,C.height],Y=pr(R,U?[x,u]:[u,x]);return $.current=C,Y(E-C.top)}return e.jsx(ea,{scope:a.__scopeSlider,startEdge:U?"bottom":"top",endEdge:U?"top":"bottom",size:"height",direction:U?1:-1,children:e.jsx(ra,{"data-orientation":"vertical",...W,ref:j,style:{...W.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const C=_(E.clientY);S?.(C)},onSlideMove:E=>{const C=_(E.clientY);N?.(C)},onSlideEnd:()=>{$.current=void 0,l?.()},onStepKeyDown:E=>{const R=Xr[U?"from-bottom":"from-top"].includes(E.key);D?.({event:E,direction:R?-1:1})}})})}),ra=o.forwardRef((a,d)=>{const{__scopeSlider:u,onSlideStart:x,onSlideMove:v,onSlideEnd:S,onHomeKeyDown:N,onEndKeyDown:l,onStepKeyDown:D,...W}=a,O=Vt(ht,u);return e.jsx(kt.span,{...W,ref:d,onKeyDown:ut(a.onKeyDown,j=>{j.key==="Home"?(N(j),j.preventDefault()):j.key==="End"?(l(j),j.preventDefault()):Yr.concat(Jr).includes(j.key)&&(D(j),j.preventDefault())}),onPointerDown:ut(a.onPointerDown,j=>{const $=j.target;$.setPointerCapture(j.pointerId),j.preventDefault(),O.thumbs.has($)?$.focus():x(j)}),onPointerMove:ut(a.onPointerMove,j=>{j.target.hasPointerCapture(j.pointerId)&&v(j)}),onPointerUp:ut(a.onPointerUp,j=>{const $=j.target;$.hasPointerCapture(j.pointerId)&&($.releasePointerCapture(j.pointerId),S(j))})})}),aa="SliderTrack",sa=o.forwardRef((a,d)=>{const{__scopeSlider:u,...x}=a,v=Vt(aa,u);return e.jsx(kt.span,{"data-disabled":v.disabled?"":void 0,"data-orientation":v.orientation,...x,ref:d})});sa.displayName=aa;var gr="SliderRange",oa=o.forwardRef((a,d)=>{const{__scopeSlider:u,...x}=a,v=Vt(gr,u),S=ta(gr,u),N=o.useRef(null),l=gt(d,N),D=v.values.length,W=v.values.map($=>ia($,v.min,v.max)),O=D>1?Math.min(...W):0,j=100-Math.max(...W);return e.jsx(kt.span,{"data-orientation":v.orientation,"data-disabled":v.disabled?"":void 0,...x,ref:l,style:{...a.style,[S.startEdge]:O+"%",[S.endEdge]:j+"%"}})});oa.displayName=gr;var hr="SliderThumb",na=o.forwardRef((a,d)=>{const u=vs(a.__scopeSlider),[x,v]=o.useState(null),S=gt(d,l=>v(l)),N=o.useMemo(()=>x?u().findIndex(l=>l.ref.current===x):-1,[u,x]);return e.jsx(ks,{...a,ref:S,index:N})}),ks=o.forwardRef((a,d)=>{const{__scopeSlider:u,index:x,name:v,...S}=a,N=Vt(hr,u),l=ta(hr,u),[D,W]=o.useState(null),O=gt(d,z=>W(z)),j=D?N.form||!!D.closest("form"):!0,$=Ra(D),U=N.values[x],_=U===void 0?0:ia(U,N.min,N.max),E=Ts(x,N.values.length),C=$?.[l.size],R=C?Fs(C,_,l.direction):0;return o.useEffect(()=>{if(D)return N.thumbs.add(D),()=>{N.thumbs.delete(D)}},[D,N.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${_}% + ${R}px)`},children:[e.jsx(xr.ItemSlot,{scope:a.__scopeSlider,children:e.jsx(kt.span,{role:"slider","aria-label":a["aria-label"]||E,"aria-valuemin":N.min,"aria-valuenow":U,"aria-valuemax":N.max,"aria-orientation":N.orientation,"data-orientation":N.orientation,"data-disabled":N.disabled?"":void 0,tabIndex:N.disabled?void 0:0,...S,ref:O,style:U===void 0?{display:"none"}:a.style,onFocus:ut(a.onFocus,()=>{N.valueIndexToChangeRef.current=x})})}),j&&e.jsx(la,{name:v??(N.name?N.name+(N.values.length>1?"[]":""):void 0),form:N.form,value:U},x)]})});na.displayName=hr;var Ss="RadioBubbleInput",la=o.forwardRef(({__scopeSlider:a,value:d,...u},x)=>{const v=o.useRef(null),S=gt(v,x),N=es(d);return o.useEffect(()=>{const l=v.current;if(!l)return;const D=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(D,"value").set;if(N!==d&&O){const j=new Event("input",{bubbles:!0});O.call(l,d),l.dispatchEvent(j)}},[N,d]),e.jsx(kt.input,{style:{display:"none"},...u,ref:S,defaultValue:d})});la.displayName=Ss;function Cs(a=[],d,u){const x=[...a];return x[u]=d,x.sort((v,S)=>v-S)}function ia(a,d,u){const S=100/(u-d)*(a-d);return Kr(S,[0,100])}function Ts(a,d){return d>2?`Value ${a+1} of ${d}`:d===2?["Minimum","Maximum"][a]:void 0}function Is(a,d){if(a.length===1)return 0;const u=a.map(v=>Math.abs(v-d)),x=Math.min(...u);return u.indexOf(x)}function Fs(a,d,u){const x=a/2,S=pr([0,50],[0,x]);return(x-S(d)*u)*u}function Ps(a){return a.slice(0,-1).map((d,u)=>a[u+1]-d)}function Ls(a,d){if(d>0){const u=Ps(a);return Math.min(...u)>=d}return!0}function pr(a,d){return u=>{if(a[0]===a[1]||d[0]===d[1])return d[0];const x=(d[1]-d[0])/(a[1]-a[0]);return d[0]+x*(u-a[0])}}function Es(a){return(String(a).split(".")[1]||"").length}function Bs(a,d){const u=Math.pow(10,d);return Math.round(a*u)/u}var da=Zr,_s=sa,Rs=oa,Ds=na;const ca=o.forwardRef(({className:a,...d},u)=>e.jsxs(da,{ref:u,className:Da("relative flex w-full touch-none select-none items-center",a),...d,children:[e.jsx(_s,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Rs,{className:"absolute h-full bg-primary"})}),e.jsx(Ds,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ca.displayName=da.displayName;function Ms({isOpen:a,onClose:d}){return e.jsx(nr,{open:a,onOpenChange:d,children:e.jsxs(lr,{className:"w-[95vw] sm:w-full max-w-4xl h-[80vh] flex flex-col p-0 gap-0 bg-background/95 backdrop-blur-xl border-white/10",children:[e.jsxs(ir,{className:"p-6 pb-2 border-b border-white/10",children:[e.jsxs(dr,{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(or,{variant:"neon",className:"pointer-events-none w-8 h-8 p-0 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"üí°"})}),"Como usar o Link na Bio"]}),e.jsx(cr,{children:"Guia completo para personalizar sua p√°gina e gerenciar seus links."})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs(Ut,{defaultValue:"appearance",className:"h-full flex flex-col",children:[e.jsx("div",{className:"px-6 pt-4",children:e.jsxs(zt,{className:"w-full justify-start bg-muted/20 p-1",children:[e.jsxs(Ge,{value:"appearance",className:"flex-1 gap-2 data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:[e.jsx(Ht,{className:"w-4 h-4"}),"Apar√™ncia & Temas"]}),e.jsxs(Ge,{value:"links",className:"flex-1 gap-2 data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:[e.jsx($t,{className:"w-4 h-4"}),"Links & Produtos"]})]})}),e.jsxs(ts,{className:"flex-1 p-6",children:[e.jsxs(qe,{value:"appearance",className:"mt-0 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2 text-primary",children:[e.jsx(mr,{className:"w-5 h-5"}),"Temas e Layouts"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl border border-white/10 bg-black/20 space-y-2",children:[e.jsxs("div",{className:"h-24 rounded-lg bg-black/40 w-full mb-2 flex flex-col justify-center gap-2 p-3 border border-white/5",children:[e.jsx("div",{className:"h-2 w-3/4 bg-white/20 rounded-full mx-auto"}),e.jsx("div",{className:"h-8 w-full bg-white/5 rounded-md border border-white/10"}),e.jsx("div",{className:"h-8 w-full bg-white/5 rounded-md border border-white/10"})]}),e.jsx("h4",{className:"font-medium",children:"Cl√°ssico"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Lista simples e elegante, perfeita para quem quer foco direto nos links."})]}),e.jsxs("div",{className:"p-4 rounded-xl border border-white/10 bg-black/20 space-y-2",children:[e.jsxs("div",{className:"h-24 rounded-lg bg-black/40 w-full mb-2 p-3 border border-white/5 grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"bg-white/5 rounded-md border border-white/10"}),e.jsx("div",{className:"bg-white/5 rounded-md border border-white/10"}),e.jsx("div",{className:"bg-white/5 rounded-md border border-white/10"}),e.jsx("div",{className:"bg-white/5 rounded-md border border-white/10"})]}),e.jsx("h4",{className:"font-medium",children:"Grade"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Visual moderno em cards, ideal para destacar m√∫ltiplos conte√∫dos visualmente."})]}),e.jsxs("div",{className:"p-4 rounded-xl border border-white/10 bg-black/20 space-y-2",children:[e.jsx("div",{className:"h-24 rounded-lg bg-black/40 w-full mb-2 p-2 border border-white/5 flex items-center justify-center",children:e.jsxs("div",{className:"w-2/3 h-full bg-white/5 rounded-md border border-white/10 flex flex-col p-1 gap-1",children:[e.jsx("div",{className:"flex-1 bg-white/10 rounded-sm w-full"}),e.jsx("div",{className:"h-1.5 w-1/2 bg-white/20 rounded-full"}),e.jsx("div",{className:"h-3 w-full bg-primary/20 rounded-sm"})]})}),e.jsx("h4",{className:"font-medium",children:"Loja"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Vitrine de produtos completa, otimizada para vendas e convers√£o."})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2 text-primary",children:[e.jsx(Ir,{className:"w-5 h-5"}),"Personaliza√ß√£o Avan√ßada"]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-muted/10",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10 text-primary",children:e.jsx(Wr,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"Tipografia e Cores"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Escolha entre fontes Sans, Serif ou Mono. Personalize a cor do texto e dos bot√µes para combinar com sua marca. As altera√ß√µes s√£o refletidas em tempo real na pr√©-visualiza√ß√£o ao lado."})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-muted/10",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10 text-primary",children:e.jsx(mr,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"Estilo dos Bot√µes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mais de 8 estilos dispon√≠veis: Glassmorphism, Neon, Minimal, Brutalist, entre outros. Ajuste a transpar√™ncia e cor de fundo para criar efeitos √∫nicos."})]})]})]})]})]}),e.jsxs(qe,{value:"links",className:"mt-0 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2 text-primary",children:[e.jsx($t,{className:"w-5 h-5"}),"Adicionando Itens"]}),e.jsx("div",{className:"bg-muted/10 rounded-xl p-6 space-y-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold",children:"1"}),e.jsxs("p",{className:"text-sm",children:["Clique no bot√£o ",e.jsx("strong",{children:'"Adicionar Link"'})," no topo da lista."]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold",children:"2"}),e.jsxs("p",{className:"text-sm",children:["Escolha o tipo: ",e.jsx("strong",{children:"Simples"})," (apenas link) ou ",e.jsx("strong",{children:"Produto"})," (com pre√ßo e imagem)."]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold",children:"3"}),e.jsx("p",{className:"text-sm",children:"Preencha o t√≠tulo e a URL (obrigat√≥rios)."})]})]}),e.jsx("div",{className:"w-full md:w-1/3 bg-black/40 rounded-lg p-4 border border-white/5",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-8 bg-white/10 rounded w-full animate-pulse"}),e.jsx("div",{className:"h-8 bg-white/10 rounded w-3/4 animate-pulse"}),e.jsxs("div",{className:"h-20 bg-white/5 rounded w-full border border-dashed border-white/10 flex items-center justify-center text-xs text-muted-foreground",children:[e.jsx(De,{className:"w-4 h-4 mr-2"})," Upload Imagem"]})]})})]})})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2 text-primary",children:[e.jsx(Ma,{className:"w-5 h-5"}),"Gerenciamento e Visibilidade"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-muted/10 border border-white/5",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-2",children:[e.jsx(Ir,{className:"w-4 h-4 text-blue-400"}),"Edi√ß√£o R√°pida"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique no √≠cone de l√°pis em qualquer card para abrir o modo de edi√ß√£o. Voc√™ pode alterar pre√ßos, imagens e descri√ß√µes a qualquer momento."})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/10 border border-white/5",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-2",children:[e.jsx(ur,{className:"w-4 h-4 text-red-400"}),"Remo√ß√£o Segura"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ao excluir um item, pediremos confirma√ß√£o. A remo√ß√£o √© permanente e apaga as imagens associadas."})]})]})]})]})]})]})})]})})}const le=a=>{const d=a.trim();if(!d)return null;const u=d.startsWith("#")?d:`#${d}`;return/^#[0-9a-fA-F]{6}$/.test(u)?u.toUpperCase():null},As=[{name:"Sunset",colors:["#FF512F","#DD2476"]},{name:"Ocean",colors:["#2193b0","#6dd5ed"]},{name:"Purple Love",colors:["#cc2b5e","#753a88"]},{name:"Morning",colors:["#FF5F6D","#FFC371"]},{name:"Neon Life",colors:["#B06AB3","#4568DC"]}];function $s({value:a,onChange:d,defaultTextColor:u="#ffffff"}){const x=o.useId(),v=`${x}-text-color-hex`,S=`${x}-solid-color-hex`,[N,l]=o.useState(!!a),[D,W]=o.useState(a?.type||"solid"),[O,j]=o.useState(()=>a?.type==="solid"?le(a.background)??"#000000":"#000000"),[$,U]=o.useState(O),[_,E]=o.useState(null),[C,R]=o.useState(a?.gradientSettings?.type||"linear"),[z,Y]=o.useState(a?.gradientSettings?.direction||"to right"),[T,ee]=o.useState(()=>{const g=a?.gradientSettings?.colors;if(g?.length){const b=g.map(F=>le(F)).filter(Boolean);if(b.length>=2)return b}return["#FF512F","#DD2476"]}),[pe,se]=o.useState(T),[we,ue]=o.useState(()=>T.map(()=>null)),[Q,H]=o.useState(()=>le(a?.textColor||u)??u.toUpperCase()),[me,oe]=o.useState(Q),[je,te]=o.useState(null);o.useEffect(()=>{if(!a){const Le=le(u)??u.toUpperCase();l(!1),W("solid"),j("#000000"),U("#000000"),E(null),R("linear"),Y("to right"),ee(["#FF512F","#DD2476"]),se(["#FF512F","#DD2476"]),ue([null,null]),H(Le),oe(Le),te(null);return}l(!0);const g=a.type||"solid";W(g);const b=a.type==="solid"?le(a.background)??"#000000":"#000000";j(b),U(b),E(null);const F=a.gradientSettings?.type||"linear",P=a.gradientSettings?.direction||"to right",ye=(()=>{const Le=a.gradientSettings?.colors;if(Le?.length){const ae=Le.map(Oe=>le(Oe)).filter(Boolean);if(ae.length>=2)return ae.slice(0,5)}return["#FF512F","#DD2476"]})();R(F),Y(P),ee(ye),se(ye),ue(ye.map(()=>null));const ne=le(a.textColor||u)??(a.textColor||u).toUpperCase();H(ne),oe(ne),te(null)},[a,u]);const K=g=>{if(!g.enabled)return null;if(g.mode==="solid")return{type:"solid",background:g.solidColor,textColor:g.textColor};const b=g.gradientColors.length>=2?g.gradientColors.slice(0,5):["#FF512F","#DD2476"];return{type:"gradient",background:g.gradientType==="linear"?`linear-gradient(${g.gradientDirection}, ${b.join(", ")})`:`radial-gradient(circle, ${b.join(", ")})`,textColor:g.textColor,gradientSettings:{type:g.gradientType,direction:g.gradientDirection,colors:b}}},V=g=>{const b={enabled:N,mode:D,solidColor:O,textColor:Q,gradientType:C,gradientDirection:z,gradientColors:T,...g};d(K(b))},ie=()=>{l(!1),W("solid"),j("#000000"),U("#000000"),E(null),ee(["#FF512F","#DD2476"]),se(["#FF512F","#DD2476"]),ue([null,null]);const g=le(u)??u.toUpperCase();H(g),oe(g),te(null),d(null)},Pe=(g,b)=>{l(!0);const F=[...pe];F[g]=b,se(F);const P=le(b),ye=[...we];if(ye[g]=P?null:"Use #RRGGBB",ue(ye),!P)return;const ne=[...T];ne[g]=P,ee(ne),V({enabled:!0,gradientColors:ne})},tt=()=>{if(l(!0),T.length<5){const g=[...T,"#FFFFFF"];ee(g),se([...pe,"#FFFFFF"]),ue([...we,null]),V({enabled:!0,gradientColors:g})}},pt=g=>{if(l(!0),T.length>2){const b=T.filter((F,P)=>P!==g);ee(b),se(pe.filter((F,P)=>P!==g)),ue(we.filter((F,P)=>P!==g)),V({enabled:!0,gradientColors:b})}};return e.jsxs("div",{className:"space-y-4 p-4 border rounded-xl bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs(w,{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(Ht,{className:"w-4 h-4 text-neon-blue"}),"Personaliza√ß√£o do Card"]}),e.jsxs(ve,{variant:"ghost",size:"sm",onClick:ie,className:"h-6 text-xs text-muted-foreground hover:text-red-400",children:[e.jsx(rs,{className:"w-3 h-3 mr-1"}),"Restaurar Padr√£o"]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx("div",{className:"w-full h-16 rounded-lg flex items-center justify-center border transition-all duration-300 shadow-md",style:{background:D==="solid"?O:C==="linear"?`linear-gradient(${z}, ${T.join(", ")})`:`radial-gradient(circle, ${T.join(", ")})`},children:e.jsx("span",{className:"font-medium text-sm",style:{color:Q},children:"Pr√©-visualiza√ß√£o do Texto"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{htmlFor:v,className:"text-xs w-24",children:"Cor do Texto"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("input",{type:"color",value:Q,onChange:g=>{l(!0);const b=le(g.target.value)??g.target.value.toUpperCase();H(b),oe(b),te(null),V({enabled:!0,textColor:b})},className:"w-8 h-8 rounded cursor-pointer border-0 bg-transparent p-0","aria-label":"Selecionar cor do texto"}),e.jsx(q,{id:v,value:me,onChange:g=>{const b=g.target.value;oe(b);const F=le(b);if(F){l(!0),H(F),te(null),V({enabled:!0,textColor:F});return}te("Cor inv√°lida. Use #RRGGBB")},className:"h-8 text-xs font-mono"})]})]}),je&&e.jsx("div",{className:"text-[10px] text-red-400 -mt-2",children:je}),e.jsxs(Ut,{value:D,onValueChange:g=>{const b=g;l(!0),W(b),V({enabled:!0,mode:b})},className:"w-full",children:[e.jsxs(zt,{className:"grid w-full grid-cols-2",children:[e.jsx(Ge,{value:"solid",children:"Cor S√≥lida"}),e.jsx(Ge,{value:"gradient",children:"Gradiente"})]}),e.jsxs(qe,{value:"solid",className:"space-y-3 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{htmlFor:S,className:"text-xs w-24",children:"Cor de Fundo"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("input",{type:"color",value:O,onChange:g=>{l(!0);const b=le(g.target.value)??g.target.value.toUpperCase();j(b),U(b),E(null),V({enabled:!0,solidColor:b,mode:"solid"})},className:"w-8 h-8 rounded cursor-pointer border-0 bg-transparent p-0","aria-label":"Selecionar cor de fundo"}),e.jsx(q,{id:S,value:$,onChange:g=>{const b=g.target.value;U(b);const F=le(b);if(F){l(!0),j(F),E(null),V({enabled:!0,solidColor:F,mode:"solid"});return}E("Cor inv√°lida. Use #RRGGBB")},className:"h-8 text-xs font-mono"})]})]}),_&&e.jsx("div",{className:"text-[10px] text-red-400 -mt-2",children:_}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["#000000","#FFFFFF","#F43F5E","#8B5CF6","#3B82F6","#10B981","#F59E0B"].map(g=>e.jsx("button",{type:"button",onClick:()=>{l(!0),j(g),U(g),E(null),V({enabled:!0,solidColor:g,mode:"solid"})},className:"w-6 h-6 rounded-full border border-border shadow-sm transition-transform hover:scale-110",style:{backgroundColor:g},"aria-label":`Selecionar cor de fundo ${g}`},g))})]}),e.jsxs(qe,{value:"gradient",className:"space-y-4 mt-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{className:"text-xs text-muted-foreground",children:"Presets"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:As.map((g,b)=>e.jsx("button",{type:"button",onClick:()=>{l(!0);const F=g.colors.map(P=>le(P)??P.toUpperCase());ee(F),se(F),ue(F.map(()=>null)),V({enabled:!0,mode:"gradient",gradientColors:F})},className:"w-12 h-8 rounded-md shrink-0 border hover:border-neon-blue transition-all",style:{background:`linear-gradient(to right, ${g.colors.join(", ")})`},title:g.name,"aria-label":`Preset ${g.name}`},b))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(w,{className:"text-xs",children:"Tipo"}),e.jsxs(Ue,{value:C,onValueChange:g=>{l(!0),R(g),V({enabled:!0,gradientType:g,mode:"gradient"})},children:[e.jsx(ze,{className:"h-8 text-xs",children:e.jsx(He,{})}),e.jsxs(Ve,{children:[e.jsx(k,{value:"linear",children:"Linear"}),e.jsx(k,{value:"radial",children:"Radial"})]})]})]}),C==="linear"&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(w,{className:"text-xs",children:"Dire√ß√£o"}),e.jsxs(Ue,{value:z,onValueChange:g=>{l(!0),Y(g),V({enabled:!0,gradientDirection:g,mode:"gradient"})},children:[e.jsx(ze,{className:"h-8 text-xs",children:e.jsx(He,{})}),e.jsxs(Ve,{children:[e.jsx(k,{value:"to right",children:"‚Üí Direita"}),e.jsx(k,{value:"to left",children:"‚Üê Esquerda"}),e.jsx(k,{value:"to bottom",children:"‚Üì Baixo"}),e.jsx(k,{value:"to top",children:"‚Üë Cima"}),e.jsx(k,{value:"to bottom right",children:"‚Üò Diagonal"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(w,{className:"text-xs",children:"Pontos de Parada"}),T.length<5&&e.jsx(ve,{variant:"ghost",size:"sm",onClick:tt,className:"h-5 text-[10px] px-2",children:"+ Adicionar"})]}),e.jsxs("div",{className:"space-y-2",children:[T.map((g,b)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-[10px] text-muted-foreground w-4",children:b+1}),e.jsx("input",{type:"color",value:g,onChange:F=>Pe(b,F.target.value),className:"w-8 h-8 rounded cursor-pointer border-0 bg-transparent p-0","aria-label":`Selecionar cor do gradiente ponto ${b+1}`}),e.jsx(q,{value:pe[b]??g,onChange:F=>Pe(b,F.target.value),className:"h-8 text-xs font-mono flex-1","aria-label":`Hex do gradiente ponto ${b+1}`}),T.length>2&&e.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>pt(b),className:"h-8 w-8 text-muted-foreground hover:text-red-500","aria-label":`Remover ponto ${b+1}`,children:"√ó"})]},b)),we.some(Boolean)&&e.jsx("div",{className:"text-[10px] text-red-400",children:"Pontos inv√°lidos: use #RRGGBB"})]})]})]})]})]})]})}const tr={backgroundType:"gradient",backgroundColor:"#000000",backgroundGradientFrom:"#0f172a",backgroundGradientTo:"#3b0764",backgroundImage:"",layout:"classic",buttonStyle:"glass",buttonColor:"#ffffff",buttonTextColor:"#ffffff",buttonTransparency:10,textColor:"#ffffff",fontFamily:"sans",shopHeaderType:"text",shopHeaderText:"Sua Marca",shopHeaderFontFamily:"sans",shopHeaderFontSize:"lg",shopHeaderFontWeight:"bold",shopBannerShowTitle:!0,shopBannerShowSubtitle:!0,shopBannerTitle:"Nova Cole√ß√£o",shopBannerSubtitle:"Confira os destaques da semana",shopBannerPosition:"inside",shopCategories:[{id:"1",name:"Lan√ßamentos"},{id:"2",name:"Promo√ß√µes"},{id:"3",name:"Populares"}],shopSocials:[],shopThemeMode:"dark"},mt=["https://placehold.co/1200x1200/0f172a/e2e8f0?text=Produto+1","https://placehold.co/1200x1200/3b0764/f5f3ff?text=Produto+2","https://placehold.co/1200x1200/111827/93c5fd?text=Produto+3"];function zr(a){const d=a.length?a:["Lan√ßamentos","Promo√ß√µes","Populares"];return[{title:"Cole√ß√£o Ver√£o 2025",price:"89,90",description:"Novidades exclusivas da esta√ß√£o",badgeLabel:"Lan√ßamento",badgeColor:"#22c55e",category:d[0]||"Lan√ßamentos"},{title:"Kit Acess√≥rios Premium",price:"129,90",description:"Combina√ß√£o perfeita para seu estilo",badgeLabel:"Oferta",badgeColor:"#f97316",category:d[1]||"Promo√ß√µes"},{title:"T√™nis Urbano",price:"249,90",description:"Conforto e design para o dia a dia",badgeLabel:"Popular",badgeColor:"#3b82f6",category:d[2]||"Populares"}].map((x,v)=>({id:`example-${v}`,title:x.title,url:"https://",enabled:!0,animation:"none",type:"product",price:x.price,description:x.description,image:mt[v%mt.length],category:x.category,currency:"R$",buttonLabel:"Comprar",badgeLabel:x.badgeLabel,badgeColor:x.badgeColor}))}function Hr(a,d){let u=0,x=0,v=0;return a.length===4?(u=parseInt(a[1]+a[1],16),x=parseInt(a[2]+a[2],16),v=parseInt(a[3]+a[3],16)):a.length===7&&(u=parseInt(a.substring(1,3),16),x=parseInt(a.substring(3,5),16),v=parseInt(a.substring(5,7),16)),`rgba(${u}, ${x}, ${v}, ${d})`}function Vr(a){a&&(navigator.clipboard.writeText(a),L.success("Copiado para a √°rea de transfer√™ncia!"))}function rr(a){const d=a.trim().toLowerCase();return d?/^(?!:\/\/)([a-z0-9-]+\.)+[a-z]{2,}$/.test(d):!1}function et(a){return a.trim().toLowerCase().replace(/[^a-z0-9-_]/g,"").replace(/-+/g,"-").replace(/_+/g,"_")}function Us(a){const d=et(a);return!d||typeof window>"u"?"":`${window.location.origin}/bio/${d}`}function zs(a){if(!a)return null;try{return JSON.parse(a)}catch{return null}}function Gr(a,d){return zs(a.getItem(d))}function ar(a,d,u){a.setItem(d,JSON.stringify(u))}function Hs(a){return`linkbio:add-item-draft:v1:${a}`}function Vs(a){return`linkbio:unsaved-draft:v1:${a}`}function qr(a){return!(a.isLoading||!a.pageId||!a.userId||!a.isToolsEnabled||a.isDirtyAfterBlur||a.isRevalidating||a.isSaving)}function Or(a,d){return a.type==="product"?{price:a.price||"0,00",description:a.description,category:a.category,image:a.image,currency:a.currency,buttonLabel:a.buttonLabel,badgeLabel:a.badgeLabel,badgeColor:a.badgeColor}:{price:void 0,description:void 0,category:void 0,image:d,currency:void 0,buttonLabel:void 0,badgeLabel:void 0,badgeColor:void 0}}const sr=a=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(a);function Gs(){const{user:a}=$a(),d=Ua(),u=za(),[x,v]=o.useState(!0),[S,N]=o.useState(!1),[l,D]=o.useState(null),W="image/png,image/jpeg,image/gif,image/webp,image/avif,image/svg+xml,image/bmp,image/tiff",O=5*1024*1024,j=o.useMemo(()=>new Set(["image/png","image/jpeg","image/jpg","image/pjpeg","image/gif","image/webp","image/avif","image/svg+xml","image/bmp","image/tiff"]),[]),[$,U]=o.useState("design"),[_,E]=o.useState("@suamarca"),[C,R]=o.useState("Criadora de Conte√∫do | Lifestyle"),[z,Y]=o.useState("https://github.com/shadcn.png"),[T,ee]=o.useState(null),[pe,se]=o.useState(!1),[we,ue]=o.useState(""),[Q,H]=o.useState({icon:"instagram",url:""}),[me,oe]=o.useState(""),[je,te]=o.useState(null),[K,V]=o.useState(null),[ie,Pe]=o.useState(!1),[tt,pt]=o.useState(!1),g=o.useRef(null),[b,F]=o.useState(""),[P,ye]=o.useState("suamarca"),[ne,Le]=o.useState(!1),[ae,Oe]=o.useState("idle"),St=o.useRef(!1),ua=typeof window>"u"?"":window.location.host,be=o.useCallback(()=>{if(typeof window>"u")return null;try{return window.localStorage}catch{return null}},[]),[xe,br]=o.useState(!1),[ma,fr]=o.useState(!1),[i,B]=o.useState({title:"",url:"",type:"simple",price:"",description:"",category:"",image:"",animation:"none",currency:"R$",buttonLabel:"Comprar",badgeLabel:"Promo√ß√£o",badgeColor:"#000000",titleFontSize:14,customStyle:null}),[vr,rt]=o.useState(null),[bt,at]=o.useState(!1),[xa,ge]=o.useState(!1),[Ee,Ne]=o.useState(null),[Ke,ke]=o.useState(null),[ga,ha]=o.useState(0),Se=o.useRef(0),Gt=o.useRef(0),st=o.useRef(null),Ce=o.useRef(null),We=o.useRef(null),Me=o.useRef(null),Be=o.useRef(null),_e=o.useRef(null),Te=o.useMemo(()=>a?.id?Hs(a.id):null,[a?.id]),he=o.useMemo(()=>a?.id?Vs(a.id):null,[a?.id]),Ye=o.useRef(null),Je=o.useRef(null),ot=o.useRef(!1),ft=o.useRef(!1),qt=o.useRef(!1),[Ct,Tt]=o.useState(!1),[wr,vt]=o.useState(!1),[It,nt]=o.useState(!1),Ae=o.useRef(0);o.useCallback(()=>{qt.current=!0},[]),o.useEffect(()=>{if(x||!Te||ot.current)return;const t=be();if(!t)return;const s=Gr(t,Te);if(!s||s.v!==1){ot.current=!0;return}if(s.userId!==a?.id){t.removeItem(Te),ot.current=!0;return}if(s.pageId&&l&&s.pageId!==l){t.removeItem(Te),ot.current=!0;return}if(!s.isAddLinkOpen){t.removeItem(Te),ot.current=!0;return}const c=s.newLinkData;c&&typeof c=="object"&&B(n=>({...n,...c,customStyle:c.customStyle??n.customStyle??null})),V(typeof s.editingLinkId=="string"?s.editingLinkId:null),Ne(s.newProductImageMode==="auto"||s.newProductImageMode==="manual"?s.newProductImageMode:null),ke(s.newProductTitleMode==="auto"||s.newProductTitleMode==="manual"?s.newProductTitleMode:null),br(!0),ot.current=!0},[Te,be,x,l,a?.id]),o.useEffect(()=>{if(!Te)return;const t=be();if(t){if(!xe){t.removeItem(Te);return}return Ye.current&&(window.clearTimeout(Ye.current),Ye.current=null),Ye.current=window.setTimeout(()=>{ar(t,Te,{v:1,userId:a?.id,pageId:l,isAddLinkOpen:xe,editingLinkId:K,newLinkData:i,newProductImageMode:Ee,newProductTitleMode:Ke,updatedAt:Date.now()})},150),()=>{Ye.current&&(window.clearTimeout(Ye.current),Ye.current=null)}}},[Te,K,be,xe,i,Ee,Ke,l,a?.id]);const Ot=o.useCallback(t=>{if(t&&t.startsWith("blob:"))try{URL.revokeObjectURL(t)}catch{}},[]),lt=o.useCallback(()=>{Gt.current+=1,at(!1),rt(null);const t=st.current;st.current=null,Ot(t)},[Ot]);o.useEffect(()=>{const t=()=>{lt(),Se.current+=1,ge(!1),xe&&(Ae.current+=1,nt(!0),Tt(!1),vt(!1))},s=()=>{ha(c=>c+1)};return window.addEventListener("app:suspend",t),window.addEventListener("app:resume",s),window.addEventListener("blur",t),window.addEventListener("focus",s),()=>{window.removeEventListener("app:suspend",t),window.removeEventListener("app:resume",s),window.removeEventListener("blur",t),window.removeEventListener("focus",s),lt()}},[xe,lt]);const[M,fe]=o.useState([]),jr=o.useMemo(()=>{if(!xe)return M;if(K)return M.map(s=>s.id===K?{...s,title:i.title,url:i.url,type:i.type,animation:i.animation,...Or(i,s.image),titleFontSize:i.titleFontSize,customStyle:i.customStyle||void 0}:s);const t={id:"preview-temp-id",title:i.title||"Novo Link",url:i.url||"https://",enabled:!0,animation:i.animation,type:i.type,...Or(i),titleFontSize:i.titleFontSize,customStyle:i.customStyle||void 0};return[...M,t]},[M,xe,K,i]),[r,y]=o.useState(tr),[Ft,Pt]=o.useState(!1),Ie=o.useRef(null),$e=o.useRef(null),Xe=o.useRef(null),re=o.useMemo(()=>JSON.stringify({username:_,bio:C,profileImage:z,slug:P,themeConfig:r,links:M}),[_,C,z,P,r,M]);o.useEffect(()=>{if(x||!he)return;const t=be();if(t)return Je.current&&(window.clearTimeout(Je.current),Je.current=null),Je.current=window.setTimeout(()=>{ar(t,he,{v:1,userId:a?.id,pageId:l,signature:re,username:_,bio:C,profileImage:z,slug:P,isPublished:ne,themeConfig:r,links:M,updatedAt:Date.now()})},250),()=>{Je.current&&(window.clearTimeout(Je.current),Je.current=null)}},[C,re,be,x,ne,M,l,z,P,r,he,a?.id,_]),o.useEffect(()=>{if(x||!he||!l||ft.current)return;const t=be();if(!t)return;const s=Gr(t,he);if(!s||s.v!==1){ft.current=!0;return}if(s.userId!==a?.id||s.pageId!==l){t.removeItem(he),ft.current=!0;return}if(typeof s.signature!="string"||s.signature===re){ft.current=!0;return}E(typeof s.username=="string"?s.username:_),R(typeof s.bio=="string"?s.bio:C),Y(typeof s.profileImage=="string"?s.profileImage:z),ye(typeof s.slug=="string"?s.slug:P),Le(typeof s.isPublished=="boolean"?s.isPublished:ne),y(s.themeConfig||r),fe(Array.isArray(s.links)?s.links:M),Xe.current="",ft.current=!0},[C,re,be,x,ne,M,l,z,P,r,he,a?.id,_]);const Kt=o.useCallback(t=>{const s=t.trim();if(!s)return null;const c=/^https?:\/\//i.test(s)?s:`https://${s}`;try{const n=new URL(c);return n.protocol!=="http:"&&n.protocol!=="https:"||!n.hostname?null:n.toString()}catch{return null}},[]),Wt=o.useCallback(t=>{try{const c=new URL(t).pathname.split("/").filter(Boolean);for(let n=c.length-1;n>=0;n-=1){const h=c[n]??"";if(!h||/^\d+$/.test(h))continue;const p=decodeURIComponent(h).replace(/\.(html?|php|aspx?|jsp)$/i,"").replace(/[+_-]+/g," ").replace(/\s+/g," ").trim();if(!p||!/[a-zA-Z√Ä-√ø]/.test(p))continue;const m=p.toLowerCase();if(m==="p"||m==="produto"||m==="produtos"||m==="product"||m==="products")continue;const I=p.split(" ").map(J=>{const de=J.trim();return de?de[0].toUpperCase()+de.slice(1):""}).filter(Boolean).join(" ").trim();if(!(I.length<3))return I}return null}catch{return null}},[]);o.useEffect(()=>{if(!xe){ge(!1),_e.current=null;return}if(r.layout!=="shop"){ge(!1),_e.current=null;return}if(i.type!=="product"){ge(!1),_e.current=null;return}if(bt)return;const t=Kt(i.url);if(!t){ge(!1),_e.current=null,i.url.trim()||(Ee==="auto"&&(B(m=>({...m,image:""})),Ne(null),Ce.current=null),Ke==="auto"&&(B(m=>({...m,title:""})),ke(null),Me.current=null));return}const s=_e.current!==t;s&&(_e.current=t);const c=Ee!=="manual"&&(!i.image||Ee==="auto"),n=s&&(!i.title.trim()||Ke==="auto"),h=n?Wt(t):null;if(h&&i.title.trim()!==h&&(B(m=>({...m,title:h})),ke("auto"),Me.current=t,Be.current=null),!c&&!n){ge(!1);return}const f=++Se.current,p=window.setTimeout(async()=>{if(f===Se.current){Ee==="auto"&&Ce.current!==t&&(B(m=>({...m,image:""})),Ne(null),Ce.current=null),ge(!0);try{const{data:m,error:I}=await ct(X.functions.invoke("link-metadata",{body:{url:t}}),12e3,"Tempo excedido ao buscar dados do link.");if(f!==Se.current)return;if(I)throw I;const J=m?.image,de=m?.title,Re=typeof de=="string"?de.trim():"",dt=((n?Wt(t):null)||Re).trim();c&&J&&typeof J=="string"?(B(G=>({...G,image:J})),Ne("auto"),Ce.current=t,We.current=null):c&&Ee==="auto"&&(B(G=>({...G,image:""})),Ne(null),Ce.current=t),n&&dt?(B(G=>({...G,title:dt})),ke("auto"),Me.current=t,Be.current=null):n&&Ke==="auto"&&(B(G=>({...G,title:""})),ke(null),Me.current=t),n&&!dt&&Be.current!==t&&(Be.current=t,L.error("N√£o foi poss√≠vel extrair o nome do produto do link. Voc√™ pode preencher manualmente."))}catch(m){if(f!==Se.current)return;c&&Ee==="auto"&&(B(I=>({...I,image:""})),Ne(null),Ce.current=t),n&&Ke==="auto"&&(B(I=>({...I,title:""})),ke(null),Me.current=t),c&&We.current!==t&&(We.current=t,L.error(m instanceof Error&&m.message?m.message:"N√£o foi poss√≠vel extrair a imagem do link. Voc√™ pode enviar uma imagem manualmente.")),n&&Be.current!==t&&(Be.current=t,L.error(m instanceof Error&&m.message?m.message:"N√£o foi poss√≠vel extrair o nome do produto do link. Voc√™ pode preencher manualmente."))}finally{f===Se.current&&ge(!1)}}},700);return()=>{window.clearTimeout(p)}},[xe,bt,i.image,i.title,i.type,i.url,Ee,Ke,ga,Kt,Wt,r.layout]);const it=async()=>{if(Ie.current){window.clearTimeout(Ie.current),Ie.current=null,Pt(!0),$e.current=Lt(void 0,{showToast:!1,updateSavingState:!1,performUsageCheck:!1,performMediaCleanup:!1});const t=await $e.current;return $e.current=null,t&&(Xe.current=re),Pt(!1),t}return $e.current?await $e.current:!0};o.useEffect(()=>{if(x||!l||!a?.id)return;const t=be(),s=()=>{if(t&&he)try{ar(t,he,{v:1,userId:a.id,pageId:l,signature:re,username:_,bio:C,profileImage:z,slug:P,isPublished:ne,themeConfig:r,links:M,updatedAt:Date.now()})}catch{}it()},c=()=>{document.hidden&&s()};return document.addEventListener("visibilitychange",c),window.addEventListener("pagehide",s),window.addEventListener("beforeunload",s),window.addEventListener("app:suspend",s),()=>{document.removeEventListener("visibilitychange",c),window.removeEventListener("pagehide",s),window.removeEventListener("beforeunload",s),window.removeEventListener("app:suspend",s)}},[C,re,it,be,x,ne,M,l,z,P,r,he,a?.id,_]),o.useEffect(()=>{if(!a)return;(async()=>{try{v(!0);const{data:s,error:c}=await X.from("bio_pages").select("*").eq("user_id",a.id).maybeSingle();if(c)throw c;let n=s;if(!n){const h=et(a.email.split("@")[0]+"-"+Math.random().toString(36).substr(2,4)),{data:f,error:p}=await X.from("bio_pages").insert({user_id:a.id,slug:h,title:a.name,description:"Bem-vindo ao meu espa√ßo!",profile_image:a.avatar,theme_config:tr}).select().single();if(p)throw p;n=f}if(n){D(n.id),E(n.title||a.name),R(n.description||""),Y(n.profile_image||a.avatar||""),ye(et(n.slug)),Le(n.is_published),y(n.theme_config||tr);const{data:h,error:f}=await X.from("bio_links").select("*").eq("page_id",n.id).order("order_index",{ascending:!0});if(f)throw f;fe(h?.map(p=>({id:p.id,title:p.title,url:p.url,enabled:p.is_active,type:p.type,animation:p.animation,price:p.price,description:p.description,image:p.image,category:p.category,currency:p.currency,buttonLabel:p.button_label,badgeLabel:p.badge_label,badgeColor:p.badge_color,customStyle:p.custom_css}))||[])}}catch(s){console.error("Error fetching bio data:",s),L.error("Erro ao carregar dados.")}finally{v(!1)}})()},[a]),o.useEffect(()=>{if(!x&&!(!l||!a)){if(Xe.current===null){Xe.current=re;return}if(re!==Xe.current)return Ie.current&&(window.clearTimeout(Ie.current),Ie.current=null),Pt(!0),Ie.current=window.setTimeout(async()=>{$e.current=Lt(void 0,{showToast:!1,updateSavingState:!1,performUsageCheck:!1,performMediaCleanup:!1});const t=await $e.current;$e.current=null,t&&(Xe.current=re),Pt(!1)},500),()=>{Ie.current&&(window.clearTimeout(Ie.current),Ie.current=null)}}},[re,x,l,a]),o.useEffect(()=>{qt.current&&(x||!l||!a||(qt.current=!1,it()))},[re,it,x,l,a]),o.useEffect(()=>{ie&&tt&&g.current&&g.current!==re&&pt(!1)},[re,ie,tt]),o.useEffect(()=>{if(!l){Oe("idle");return}const t=et(P);if(!t){Oe("invalid");return}let s=!0;Oe("checking");const c=window.setTimeout(async()=>{const{data:n,error:h}=await X.rpc("is_bio_slug_available",{p_slug:t,p_current_page_id:l});if(s){if(h){Oe("idle");return}Oe(n?"available":"unavailable")}},450);return()=>{s=!1,window.clearTimeout(c)}},[P,l]);const wt=o.useCallback(async t=>{const{data:s,error:c}=await ct(X.from("bio_links").select("*").eq("page_id",t).order("order_index",{ascending:!0}),2e4,"Tempo excedido ao atualizar itens.");if(c)throw c;fe(s?.map(n=>({id:n.id,title:n.title,url:n.url,enabled:n.is_active,type:n.type,animation:n.animation,price:n.price,description:n.description,image:n.image,category:n.category,currency:n.currency,buttonLabel:n.button_label,badgeLabel:n.badge_label,badgeColor:n.badge_color,customStyle:n.custom_css}))||[])},[]);o.useEffect(()=>{if(!xe){nt(!1),vt(!1);return}const t=()=>{nt(!0)},s=()=>{if(document.hidden){t();return}if(It){if(!l){nt(!1);return}(async()=>{vt(!0);try{await wt(l)}catch{}finally{vt(!1),nt(!1)}})()}};return document.addEventListener("visibilitychange",s),window.addEventListener("app:suspend",t),window.addEventListener("app:resume",s),window.addEventListener("blur",t),window.addEventListener("focus",s),()=>{document.removeEventListener("visibilitychange",s),window.removeEventListener("app:suspend",t),window.removeEventListener("app:resume",s),window.removeEventListener("blur",t),window.removeEventListener("focus",s)}},[It,xe,l,wt]);const Yt=o.useCallback(async()=>{const t=(r.shopCategories||[]).map(m=>m.name).filter(Boolean);if(!l||!a?.id){fe(zr(t));return}const{data:s,error:c}=await X.from("bio_links").select("id").eq("page_id",l).limit(1);if(c)throw c;if((s?.length||0)>0){await wt(l);return}const n=zr(t);fe(n);const h=n.map((m,I)=>({page_id:l,title:m.title,url:m.url,type:m.type,is_active:m.enabled,order_index:I,animation:m.animation,price:m.price,image:m.image,category:m.category,description:m.description,currency:m.currency,button_label:m.buttonLabel,badge_label:m.badgeLabel,badge_color:m.badgeColor})),{data:f,error:p}=await X.from("bio_links").insert(h).select("*").order("order_index",{ascending:!0});if(p)throw p;fe(f?.map(m=>({id:m.id,title:m.title,url:m.url,enabled:m.is_active,type:m.type,animation:m.animation,price:m.price,description:m.description,image:m.image,category:m.category,currency:m.currency,buttonLabel:m.button_label,badgeLabel:m.badge_label,badgeColor:m.badge_color}))||n)},[l,wt,r.shopCategories,a?.id]);o.useEffect(()=>{x||St.current||r.layout==="shop"&&(M.length>0||((r.shopCategories||[]).map(t=>t.name).filter(Boolean),te(null),oe(""),y(t=>t.layout!=="shop"?t:{...t,shopBannerImage:t.shopBannerImage||mt[0],shopHeaderType:t.shopHeaderType||"image",shopHeaderImage:t.shopHeaderImage||mt[1]}),(async()=>{try{await Yt()}finally{St.current=!0}})()))},[x,M.length,Yt,r.layout,r.shopCategories]);const Jt=t=>t instanceof Error&&t.message?t.message:"N√£o foi poss√≠vel enviar a imagem.",Xt=t=>{if(!t)throw new Error("Selecione um arquivo.");const s=(t.type||"").toLowerCase(),c=(t.name.split(".").pop()||"").toLowerCase(),n=new Set(["png","jpg","jpeg","gif","webp","avif","svg","bmp","tif","tiff"]);if(s){if(!j.has(s)&&!n.has(c))throw new Error("Formato inv√°lido. Aceitos: JPG, PNG, GIF, WEBP, AVIF, SVG, BMP, TIFF.")}else if(!n.has(c))throw new Error("Formato inv√°lido. Aceitos: JPG, PNG, GIF, WEBP, AVIF, SVG, BMP, TIFF.");if(t.size>O)throw new Error("Imagem muito grande. Tamanho m√°ximo: 5MB.")},pa=t=>new Promise((s,c)=>{const n=URL.createObjectURL(t),h=new Image;h.onload=()=>{s({width:h.width,height:h.height}),URL.revokeObjectURL(n)},h.onerror=()=>{c(new Error("N√£o foi poss√≠vel ler as dimens√µes da imagem.")),URL.revokeObjectURL(n)},h.src=n}),ba=async(t,s)=>{const c=h=>new Promise((f,p)=>{h.toBlob(m=>{if(!m){p(new Error("Falha ao processar a imagem."));return}f(m)},"image/png",.92)});if(typeof createImageBitmap=="function"){const h=await createImageBitmap(t),f=Math.min(h.width,h.height),p=Math.floor((h.width-f)/2),m=Math.floor((h.height-f)/2),I=document.createElement("canvas");I.width=s,I.height=s;const J=I.getContext("2d");if(!J)throw new Error("Falha ao processar a imagem.");return J.drawImage(h,p,m,f,f,0,0,s,s),await c(I)}const n=URL.createObjectURL(t);try{const h=await new Promise((de,Re)=>{const Z=new Image;Z.onload=()=>de(Z),Z.onerror=()=>Re(new Error("Falha ao ler a imagem.")),Z.src=n}),f=Math.min(h.naturalWidth,h.naturalHeight),p=Math.floor((h.naturalWidth-f)/2),m=Math.floor((h.naturalHeight-f)/2),I=document.createElement("canvas");I.width=s,I.height=s;const J=I.getContext("2d");if(!J)throw new Error("Falha ao processar a imagem.");return J.drawImage(h,p,m,f,f,0,0,s,s),await c(I)}finally{URL.revokeObjectURL(n)}},yr=async(t,s)=>{if(!a?.id)throw new Error("Not authenticated");if(u&&!u.isPageToolsEnabled())throw u.notifyToolBlocked(),new Error("blocked");Xt(t);const c={"image/png":"png","image/jpeg":"jpg","image/jpg":"jpg","image/pjpeg":"jpg","image/gif":"gif","image/webp":"webp","image/avif":"avif","image/svg+xml":"svg","image/bmp":"bmp","image/tiff":"tiff"},n=(t.name.split(".").pop()||"").toLowerCase(),h=c[t.type]??(n||"png"),f=globalThis.crypto&&"randomUUID"in globalThis.crypto?globalThis.crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`,p=`${a.id}/${s}/${f}.${h}`,m=t.type&&t.type.trim()?t.type:void 0,{error:I}=await X.storage.from("bio_images").upload(p,t,{upsert:!0,...m?{contentType:m}:{}});if(I)throw I;const{data:J}=X.storage.from("bio_images").getPublicUrl(p);return J.publicUrl},fa=t=>t.includes("/storage/v1/object/")&&t.includes("/bio_images/"),va=t=>{try{if(!fa(t))return null;const s=new URL(t),c=s.pathname.indexOf("/bio_images/");return c===-1?null:decodeURIComponent(s.pathname.slice(c+12))}catch{return null}},Qe=async t=>{if(!a?.id)return;if(u&&!u.isPageToolsEnabled()){u.notifyToolBlocked();return}const s=t.filter(h=>typeof h=="string"&&h.length>0).map(h=>va(h)).filter(h=>typeof h=="string"&&h.startsWith(`${a.id}/`));if(s.length===0)return;const c=Array.from(new Set(s)),{error:n}=await X.storage.from("bio_images").remove(c);n&&L.error("N√£o foi poss√≠vel apagar uma imagem antiga do armazenamento")},Nr=t=>{if(!t)return[];const s=(t.shopCategories||[]).map(c=>c.image);return[t.backgroundImage,t.shopBannerImage,t.shopLogo,t.shopHeaderImage,...s]},Lt=async(t,s)=>{if(!l||!a)return!1;const c=s?.showToast??!0,n=s?.updateSavingState??!0,h=s?.performUsageCheck??!0,f=s?.performMediaCleanup??!0;if(u&&!u.isPageToolsEnabled())return c&&u.notifyToolBlocked(),!1;try{n&&N(!0);let p=null,m=[];if(f){const{data:G}=await X.from("bio_pages").select("profile_image, theme_config").eq("id",l).eq("user_id",a.id).maybeSingle();p=G;const{data:A}=await X.from("bio_links").select("id, image").eq("page_id",l);m=A||[]}if(h){const{blocked:G}=await Ha({delta:1,pagePath:window.location.pathname});if(G)return d("/dashboard/settings?blocked=1",{replace:!0}),!1}const I=t!==void 0?t:ne,J=et(P);if(!J&&t===!0)return c&&L.error("Defina um link v√°lido para publicar"),!1;const de={title:_,description:C,profile_image:z,is_published:I,theme_config:r,updated_at:new Date().toISOString()};J&&(de.slug=J);const{error:Re}=await X.from("bio_pages").update(de).eq("id",l).eq("user_id",a.id);if(Re)throw Re;const Z=[];for(let G=0;G<M.length;G++){const A=M[G],yt={page_id:l,title:A.title,url:A.url,type:A.type,is_active:A.enabled,order_index:G,animation:A.animation,price:A.price,image:A.image,category:A.category,description:A.description,currency:A.currency,button_label:A.buttonLabel,badge_label:A.badgeLabel,badge_color:A.badgeColor,custom_css:A.customStyle};if(sr(A.id))await X.from("bio_links").update(yt).eq("id",A.id).eq("page_id",l),Z.push(A.id);else{const{data:ce}=await X.from("bio_links").insert(yt).select().single();ce&&(Z.push(ce.id),fe(Qt=>Qt.map(Nt=>Nt.id===A.id?{...Nt,id:ce.id}:Nt)))}}const{data:dt}=await X.from("bio_links").select("id, image").eq("page_id",l);if(dt){const G=dt.filter(ce=>!Z.includes(ce.id)),A=G.map(ce=>ce.id),yt=G.map(ce=>ce.image);if(A.length>0){const{error:ce}=await X.from("bio_links").delete().eq("page_id",l).in("id",A);ce||await Qe(yt)}}if(f){const{data:G}=await X.from("bio_links").select("image").eq("page_id",l),A=p?.theme_config,ce=[p?.profile_image,...Nr(A),...(m||[]).map(Fe=>Fe.image)],Qt=[z,...Nr(r),...(G||[]).map(Fe=>Fe.image)],Nt=new Set(Qt.filter(Fe=>typeof Fe=="string"&&Fe.length>0)),La=ce.filter(Fe=>typeof Fe=="string"&&Fe.length>0&&!Nt.has(Fe));await Qe(La)}Xe.current=re;{const G=be();G&&he&&G.removeItem(he)}return c&&L.success("Altera√ß√µes salvas com sucesso!"),!0}catch(p){return console.error("Error saving:",p),c&&(p?.code==="23505"&&typeof p?.message=="string"&&p.message.includes("bio_pages_slug_key")?L.error("Esse link j√° est√° em uso. Tente outro."):L.error("Erro ao salvar altera√ß√µes.")),!1}finally{n&&N(!1)}},wa=async()=>{if(await it(),!tt){L.error('Antes de publicar, clique em "Salvar".');return}if(!et(P)){L.error("Defina um link v√°lido para publicar");return}if(ae==="unavailable"){L.error("Esse link j√° est√° em uso. Tente outro.");return}await Lt(!0)&&(Le(!0),Pe(!1),L.success("Sua p√°gina est√° no ar!"))},ja=()=>{lt(),V(null),B({title:"",url:"",type:r.layout==="shop"?"product":"simple",price:"",description:"",category:r.shopCategories?.[0]?.name||"",image:"",animation:"none",currency:"R$",buttonLabel:"Comprar",badgeLabel:"Promo√ß√£o",badgeColor:"#000000",titleFontSize:14,customStyle:null}),rt(null),at(!1),ge(!1),Ne(null),ke(null),Se.current=0,Ce.current=null,We.current=null,Me.current=null,Be.current=null,_e.current=null,jt(!0)},jt=t=>{br(t),!t&&(Ae.current+=1,Tt(!1),vt(!1),nt(!1),lt(),V(null),rt(null),at(!1),ge(!1),Ne(null),ke(null),Se.current=0,Ce.current=null,We.current=null,Me.current=null,Be.current=null,_e.current=null)},ya=t=>{lt(),B({title:t.title,url:t.url,type:(t.type==="featured"?"product":t.type)||(r.layout==="shop"?"product":"simple"),price:t.price||"",description:t.description||"",category:t.category||"",image:t.image||"",animation:t.animation||"none",currency:t.currency||"R$",buttonLabel:t.buttonLabel||"Comprar",badgeLabel:t.badgeLabel||"Promo√ß√£o",badgeColor:t.badgeColor||"#000000",titleFontSize:t.titleFontSize||14,customStyle:t.customStyle||null}),rt(null),at(!1),ge(!1),Ne(t.image?"manual":null),ke(t.title?.trim()?"manual":null),Se.current=0,Ce.current=null,We.current=null,Me.current=null,Be.current=null,_e.current=Kt(t.url),V(t.id),jt(!0)},Na=async()=>{const t=i.title.trim(),s=i.url.trim();if(!t){L.error("Por favor, insira um t√≠tulo.");return}const c=u?u.isPageToolsEnabled():!0,n=qr({isLoading:x,pageId:l,userId:a?.id,isDirtyAfterBlur:It,isRevalidating:wr,isSaving:Ct,isToolsEnabled:c});if(!c&&u){u.notifyToolBlocked();return}if(!n)return;const h=Ae.current+1;Ae.current=h;try{Tt(!0);const f=l;if(!f||!a?.id)return;const m=!!K,I=K?M.findIndex(Z=>Z.id===K):-1,J=m?Math.max(0,I):M.length,de=m&&I>=0?M[I]?.enabled:!0,Re={page_id:f,title:t,url:s||"https://",type:i.type,is_active:de,order_index:J,animation:i.animation,price:i.type==="product"?i.price||"0,00":null,image:i.type==="product"&&i.image||null,category:i.type==="product"&&i.category||null,description:i.type==="product"&&i.description||null,currency:i.type==="product"&&i.currency||null,button_label:i.type==="product"&&i.buttonLabel||null,badge_label:i.type==="product"&&i.badgeLabel||null,badge_color:i.type==="product"&&i.badgeColor||null,custom_css:i.customStyle||null};if(K&&sr(K)){const{error:Z}=await ct(X.from("bio_links").update(Re).eq("id",K).eq("page_id",f),3e4,"Tempo excedido ao salvar altera√ß√µes.");if(Z)throw Z}else{const{error:Z}=await ct(X.from("bio_links").insert(Re),3e4,"Tempo excedido ao salvar altera√ß√µes.");if(Z)throw Z}if(h!==Ae.current||(await wt(f),h!==Ae.current))return;K?L.success("Item atualizado com sucesso!"):L.success("Item adicionado com sucesso!"),jt(!1)}catch(f){if(h!==Ae.current)return;console.error("Error saving:",f);const p=f instanceof Error?f.message:"";p&&p.toLowerCase().includes("tempo excedido")?L.error(p):L.error("Erro ao salvar altera√ß√µes.")}finally{h===Ae.current&&Tt(!1)}},ka=async t=>{const s=M.findIndex(h=>h.id===t),c=s>=0?M[s]:void 0;if(fe(h=>h.filter(f=>f.id!==t)),!a?.id||!l||!sr(t))return;const{error:n}=await X.from("bio_links").delete().eq("id",t).eq("page_id",l);if(n){L.error("Erro ao excluir item."),c&&fe(h=>{const f=h.slice(),p=Math.min(Math.max(0,s),f.length);return f.splice(p,0,c),f});return}c?.image&&await Qe([c.image]),L.success("Item exclu√≠do.")},Sa=(t,s,c)=>{fe(M.map(n=>n.id===t?{...n,[s]:c}:n))},[Et,Bt]=o.useState(null),Ca=async()=>{const t=r.shopBannerImage;if(t)try{Bt(null),y(s=>({...s,shopBannerImage:""})),await Qe([t]),L.success("Banner removido!")}catch(s){L.error(Jt(s))}},_t=async(t,s)=>{const c=t.target.files?.[0];if(t.target.value="",!c)return;let n=null;const h=s==="profile"?z:null;try{if(s==="shop-banner"&&Bt(null),Xt(c),s==="shop-banner"){const{width:m,height:I}=await pa(c);if(m!==1200||I!==600){const J=`Dimens√µes incorretas: ${m}x${I}. Exigido: 1200x600.`;throw Bt(J),new Error(J)}}s==="profile"&&(n=URL.createObjectURL(c),ee(n),se(!0));let f=c;if(s==="profile"){const m=await ba(c,512);f=new File([m],"profile.png",{type:m.type})}const p=await yr(f,s);s==="profile"?(Y(p),await Qe([h])):s==="bg"?y({...r,backgroundImage:p}):s==="shop-banner"?y({...r,shopBannerImage:p}):s==="shop-logo"?y({...r,shopLogo:p}):s==="shop-header"&&y({...r,shopHeaderImage:p}),L.success("Imagem enviada!")}catch(f){L.error(Jt(f))}finally{s==="profile"&&(se(!1),ee(null)),n&&URL.revokeObjectURL(n)}},Ta=async t=>{if(t!=="shop"){y(c=>({...c,layout:t}));return}const s=!St.current&&M.length===0;if(te(null),oe(""),y(c=>{const n={...c,layout:t};return s&&(n.shopBannerImage=n.shopBannerImage||mt[0],n.shopHeaderType=n.shopHeaderType||"image",n.shopHeaderImage=n.shopHeaderImage||mt[1]),n}),s)try{await Yt()}finally{St.current=!0}},kr=()=>{we.trim()&&(y({...r,shopCategories:[...r.shopCategories||[],{id:Math.random().toString(36).substr(2,9),name:we}]}),ue(""))},Ia=t=>{y({...r,shopCategories:r.shopCategories?.filter(s=>s.id!==t)})},Sr=()=>{Q.url.trim()&&(y({...r,shopSocials:[...r.shopSocials||[],{id:Math.random().toString(36).substr(2,9),...Q}]}),H({...Q,url:""}))},Fa=t=>{y({...r,shopSocials:r.shopSocials?.filter(s=>s.id!==t)})},Cr=t=>{Pe(t),t&&(pt(!1),g.current=null)},Pa=async()=>{await it(),await Lt()&&(g.current=re,pt(!0))};return x?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-100px)]",children:e.jsx(Mt,{className:"w-8 h-8 animate-spin text-neon-blue"})}):e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        @keyframes gradient {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        .animate-gradient {
          animation: gradient 3s ease infinite;
        }
        @keyframes scanline {
          0% { top: 0%; }
          100% { top: 100%; }
        }
        .animate-scanline {
          animation: scanline 2s linear infinite;
        }
      `}),e.jsx("div",{className:"p-4 lg:p-8 max-w-[1600px] mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-6 lg:gap-8 lg:h-[calc(100vh-140px)]",children:[e.jsxs("div",{className:"lg:col-span-7 flex flex-col h-auto lg:h-full order-1 lg:order-none",children:[e.jsxs("div",{className:"mb-4 lg:mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl lg:text-3xl font-bold mb-1 lg:mb-2 flex items-center gap-2 lg:gap-3",children:[e.jsx($t,{className:"w-5 h-5 lg:w-8 lg:h-8 text-neon-blue"}),"Link na Bio"]}),e.jsx("p",{className:"text-xs lg:text-base text-muted-foreground",children:"Personalize sua √°rvore de links com design √∫nico."})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[e.jsxs(ve,{onClick:()=>fr(!0),variant:"outline",className:"flex-1 sm:flex-none justify-center gap-2 bg-white/10 hover:bg-white/20 border-white/20 text-foreground px-4",children:[e.jsx(Va,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"whitespace-nowrap",children:"Como usar"})]}),e.jsxs(Ze.button,{whileHover:{scale:1.02,boxShadow:"0 0 20px rgba(0, 242, 255, 0.2)"},whileTap:{scale:.95},onClick:()=>Cr(!0),className:"relative group overflow-hidden bg-neon-blue/10 hover:bg-neon-blue/20 border border-neon-blue/20 hover:border-neon-blue text-foreground dark:text-white rounded-full px-6 py-2.5 flex items-center gap-3 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),e.jsx(er,{className:"w-4 h-4 text-neon-blue"}),e.jsx("span",{className:"font-bold text-sm",children:"Publicar"})]})]})]}),e.jsx(nr,{open:ie,onOpenChange:Cr,children:e.jsxs(lr,{className:"bg-background border-border text-foreground dark:text-white w-[95vw] sm:w-full max-w-2xl max-h-[90vh] overflow-y-auto p-4 sm:p-6 rounded-xl sm:rounded-2xl gap-0",children:[e.jsxs(ir,{className:"space-y-2 mb-4",children:[e.jsxs(dr,{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:[e.jsx(er,{className:"w-5 h-5 sm:w-6 sm:h-6 text-neon-blue"}),"Publicar seu Site"]}),e.jsx(cr,{className:"text-muted-foreground dark:text-gray-400 text-xs sm:text-sm",children:"Configure como seus visitantes acessar√£o sua p√°gina."})]}),e.jsxs(Ut,{defaultValue:"default",className:"mt-2 sm:mt-4",children:[e.jsxs(zt,{className:"w-full bg-muted/50 dark:bg-muted/20 border border-border h-10 sm:h-11",children:[e.jsx(Ge,{value:"default",className:"flex-1 text-xs sm:text-sm",children:"Dom√≠nio Padr√£o"}),e.jsx(Ge,{value:"custom",className:"flex-1 text-xs sm:text-sm",children:"Dom√≠nio Pr√≥prio"})]}),e.jsx(qe,{value:"default",className:"space-y-4 sm:space-y-6 mt-4 sm:mt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-neon-blue/5 border border-neon-blue/20",children:[e.jsxs("h3",{className:"text-neon-blue font-bold mb-2 flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(At,{className:"w-4 h-4"}),"Dom√≠nio Gratuito Ativo"]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground dark:text-gray-400 leading-relaxed",children:"Seu site est√° acess√≠vel atrav√©s do dom√≠nio padr√£o da IAylle."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Seu Link Personalizado"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex-1 flex items-center bg-muted/50 dark:bg-black/20 border rounded-lg px-3 h-10 sm:h-12 transition-colors ${ae==="available"?"border-green-500/60":ae==="unavailable"||ae==="invalid"?"border-red-500/60":"border-border dark:border-white/10"}`,children:[e.jsxs("span",{className:"text-muted-foreground dark:text-gray-500 mr-1 text-xs sm:text-sm",children:[ua,"/bio/"]}),e.jsx("input",{value:P,onChange:t=>ye(et(t.target.value)),className:"bg-transparent border-none outline-none text-foreground dark:text-white flex-1 font-medium text-xs sm:text-sm",placeholder:"seunome"})]}),e.jsx(ve,{variant:"outline",className:"h-10 sm:h-12 border-border dark:border-white/10 hover:bg-muted dark:hover:bg-white/5 px-3 sm:px-4",onClick:()=>Vr(Us(P)),children:e.jsx($r,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs",children:[ae==="checking"&&e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-3.5 h-3.5 animate-spin text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground dark:text-gray-500",children:"Verificando disponibilidade..."})]}),ae==="available"&&e.jsxs(e.Fragment,{children:[e.jsx(At,{className:"w-3.5 h-3.5 text-green-500"}),e.jsx("span",{className:"text-green-600 dark:text-green-500",children:"Link dispon√≠vel"})]}),ae==="unavailable"&&e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-3.5 h-3.5 text-red-500"}),e.jsx("span",{className:"text-red-600 dark:text-red-500",children:"Esse link j√° est√° em uso"})]}),ae==="invalid"&&e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-3.5 h-3.5 text-red-500"}),e.jsx("span",{className:"text-red-600 dark:text-red-500",children:"Use letras, n√∫meros, - e _"})]}),ae==="idle"&&e.jsx("span",{className:"text-muted-foreground dark:text-gray-500",children:"Este √© o link que voc√™ compartilhar√° nas suas redes sociais."})]})]})]})}),e.jsx(qe,{value:"custom",className:"space-y-4 sm:space-y-6 mt-4 sm:mt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-purple-500/5 border border-purple-500/20",children:[e.jsxs("h3",{className:"text-purple-400 font-bold mb-2 flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(as,{className:"w-4 h-4"}),"Dom√≠nio Personalizado (Pro)"]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground dark:text-gray-400 leading-relaxed",children:"Conecte seu pr√≥prio dom√≠nio (ex: www.suamarca.com.br) para maior profissionalismo."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Seu Dom√≠nio"}),e.jsx(q,{value:b,onChange:t=>F(t.target.value.toLowerCase()),className:`bg-muted/50 dark:bg-black/20 border-border dark:border-white/10 h-10 sm:h-12 text-xs sm:text-sm ${b&&!rr(b)?"border-red-500 focus:border-red-500":""}`,placeholder:"Ex: www.suamarca.com.br"}),b&&!rr(b)&&e.jsx("p",{className:"text-[10px] sm:text-xs text-red-500",children:"Formato de dom√≠nio inv√°lido"})]}),b&&rr(b)?e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 dark:bg-muted/20 border border-border space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border-b border-border pb-3 gap-2 sm:gap-0",children:[e.jsx("h4",{className:"font-semibold text-sm text-muted-foreground dark:text-gray-300",children:"Configura√ß√£o de DNS (CNAME)"}),e.jsxs("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-600 dark:text-yellow-500 px-2 py-1 rounded border border-yellow-500/20 flex items-center gap-1 w-fit",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500 animate-pulse"}),"Aguardando Configura√ß√£o"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground dark:text-gray-400 leading-relaxed",children:"Para que seu dom√≠nio funcione, voc√™ precisa acessar o painel onde comprou seu dom√≠nio (Registro.br, GoDaddy, Hostgator, etc) e criar um novo registro DNS com as informa√ß√µes abaixo:"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm bg-background dark:bg-black/20 p-3 rounded-lg border border-border dark:border-white/5",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"block text-[10px] text-muted-foreground dark:text-gray-500 uppercase tracking-wider mb-1",children:"Tipo"}),e.jsx("span",{className:"font-mono text-neon-blue font-bold bg-muted dark:bg-black/40 p-1.5 rounded border border-border dark:border-white/5 text-center sm:text-left",children:"CNAME"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"block text-[10px] text-muted-foreground dark:text-gray-500 uppercase tracking-wider mb-1",children:"Nome / Host"}),e.jsx("span",{className:"font-mono text-foreground dark:text-white font-bold bg-muted dark:bg-muted/20 p-1.5 rounded border border-border text-center sm:text-left",children:"www"})]}),e.jsxs("div",{className:"sm:col-span-2 pt-2 border-t border-border mt-2",children:[e.jsx("span",{className:"block text-[10px] text-muted-foreground dark:text-gray-500 uppercase tracking-wider mb-1",children:"Valor / Destino"}),e.jsxs("div",{className:"flex items-center justify-between bg-muted dark:bg-muted/20 p-2 rounded border border-border group hover:border-neon-blue/50 transition-colors cursor-pointer",onClick:()=>Vr("domains.iaylle.com"),children:[e.jsx("span",{className:"font-mono text-foreground dark:text-white text-xs sm:text-sm break-all",children:"domains.iaylle.com"}),e.jsx($r,{className:"w-3 h-3 text-muted-foreground dark:text-gray-500 group-hover:text-neon-blue shrink-0 ml-2"})]})]})]}),e.jsxs("div",{className:"flex gap-2 text-xs text-yellow-600 dark:text-yellow-500/80 bg-yellow-500/10 dark:bg-yellow-500/5 p-3 rounded border border-yellow-500/20 dark:border-yellow-500/10",children:[e.jsx("div",{className:"shrink-0 mt-0.5",children:"‚ö†Ô∏è"}),e.jsx("div",{children:"Ap√≥s configurar, pode levar de 1 a 24 horas para que o dom√≠nio comece a funcionar devido √† propaga√ß√£o de DNS."})]})]}),e.jsx(ve,{className:"w-full h-10 sm:h-11 bg-muted hover:bg-muted/80 dark:bg-white/5 dark:hover:bg-white/10 text-foreground dark:text-white border border-border dark:border-white/10 text-xs sm:text-sm",onClick:()=>L.info("Verificando propaga√ß√£o de DNS...",{description:"Isso pode levar alguns minutos."}),children:"Verificar Status da Conex√£o"})]}):e.jsx("div",{className:"space-y-4 mt-4",children:e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 dark:bg-muted/20 border border-border text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-background dark:bg-muted/10 flex items-center justify-center mx-auto mb-3 border border-border dark:border-transparent",children:e.jsx(er,{className:"w-6 h-6 text-muted-foreground dark:text-gray-500"})}),e.jsx("h4",{className:"text-sm font-semibold text-foreground dark:text-gray-300 mb-1",children:"Digite seu dom√≠nio acima"}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-gray-500 max-w-[250px] mx-auto",children:"Insira o dom√≠nio que voc√™ deseja conectar para ver as instru√ß√µes de configura√ß√£o DNS."})]})})]})})]}),e.jsxs(Tr,{className:"mt-6 flex flex-col sm:flex-row gap-2",children:[e.jsx(ve,{variant:"ghost",onClick:()=>Pe(!1),className:"hover:bg-muted dark:hover:bg-white/10 h-10 sm:h-11 w-full sm:w-auto text-xs sm:text-sm order-3 sm:order-1",children:"Cancelar"}),e.jsxs(ve,{variant:"outline",onClick:Pa,disabled:S||Ft,toolId:"linkbio-save",pagePath:"/dashboard/link-bio",className:"h-10 sm:h-11 w-full sm:w-auto text-xs sm:text-sm order-2 sm:order-2 gap-2",children:[S||Ft?e.jsx(Mt,{className:"w-4 h-4 animate-spin"}):e.jsx(ss,{className:"w-4 h-4"}),S||Ft?"Salvando...":"Salvar"]}),e.jsx(ve,{onClick:wa,disabled:!tt||S||Ft||ae==="checking"||ae==="unavailable"||ae==="invalid",toolId:"linkbio-publish",pagePath:"/dashboard/link-bio",className:"bg-neon-blue text-black hover:bg-neon-blue/80 font-bold h-10 sm:h-11 w-full sm:w-auto text-xs sm:text-sm order-1 sm:order-3",children:"Publicar"})]})]})}),e.jsx(Qa,{className:"flex-1 lg:overflow-hidden flex flex-col min-h-[500px]",children:e.jsxs(Ut,{defaultValue:"design",value:$,onValueChange:U,className:"flex-1 flex flex-col h-full",children:[e.jsx("div",{className:"p-3 lg:p-6 border-b border-border",children:e.jsxs(zt,{className:"grid w-full grid-cols-2 h-9 lg:h-10",children:[e.jsxs(Ge,{value:"design",className:"flex gap-2 text-xs lg:text-sm",children:[e.jsx(Ht,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),"Apar√™ncia"]}),e.jsxs(Ge,{value:"links",className:"flex gap-2 text-xs lg:text-sm",children:[e.jsx($t,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),"Links/Produtos"]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:[e.jsxs(qe,{value:"links",className:"mt-0 space-y-6",children:[e.jsxs(Ze.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:ja,className:"w-full py-4 rounded-xl border border-dashed border-border hover:border-neon-blue/50 hover:bg-neon-blue/5 transition-all flex items-center justify-center gap-2 text-muted-foreground hover:text-neon-blue group mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-muted/50 dark:bg-muted/10 flex items-center justify-center group-hover:bg-neon-blue/20 transition-colors",children:e.jsx(Zt,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-medium",children:"Adicionar Link/Produto"})]}),e.jsx(nr,{open:xe,onOpenChange:jt,children:e.jsxs(lr,{className:"bg-background dark:bg-[#161616] border-border text-foreground dark:text-white w-[95vw] sm:w-full max-w-lg max-h-[80vh] sm:max-h-[90vh] overflow-y-auto rounded-xl sm:rounded-2xl p-3 sm:p-6 gap-0",children:[e.jsxs(ir,{className:"space-y-2 mb-2 sm:mb-4",children:[e.jsx(dr,{className:"text-lg sm:text-xl font-semibold",children:K?r.layout==="shop"?"Editar Produto":"Editar Link":r.layout==="shop"?"Novo Produto":"Novo Link"}),e.jsx(cr,{className:"text-muted-foreground dark:text-gray-400 text-xs sm:text-sm leading-relaxed",children:K?r.layout==="shop"?"Edite as informa√ß√µes do produto.":"Edite as informa√ß√µes do link.":r.layout==="shop"?"Adicione um novo produto √† sua vitrine.":"Adicione um novo link √† sua lista."})]}),e.jsxs("div",{className:"grid gap-3 sm:gap-4 py-2",children:[e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"url",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-muted-foreground",children:r.layout==="shop"?"Link de Pagamento/Checkout":"URL de Destino"}),e.jsx(q,{id:"url",value:i.url,onChange:t=>B({...i,url:t.target.value}),className:"bg-muted/50 dark:bg-muted/20 border-border h-10 sm:h-11 text-sm focus:border-neon-blue/50 transition-colors",placeholder:"https://..."})]}),e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"title",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"T√≠tulo"}),e.jsx(q,{id:"title",value:i.title,onChange:t=>{const s=t.target.value;r.layout==="shop"&&i.type==="product"&&ke("manual"),B({...i,title:s})},className:"bg-muted/50 dark:bg-black/20 border-border h-10 sm:h-11 text-sm focus:border-neon-blue/50 transition-colors",placeholder:r.layout==="shop"?"Nome do Produto":"T√≠tulo do Link"})]}),e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"titleFontSize",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Tamanho da Fonte (px)"}),e.jsx(q,{id:"titleFontSize",type:"number",value:i.titleFontSize||14,onChange:t=>{const s=t.target.value;if(!s){B({...i,titleFontSize:14});return}const c=Number(s);if(!Number.isFinite(c)){L.error("Tamanho de fonte inv√°lido.");return}const n=Math.min(32,Math.max(8,Math.round(c)));B({...i,titleFontSize:n})},className:"bg-muted/50 dark:bg-black/20 border-border h-10 sm:h-11 text-sm focus:border-neon-blue/50 transition-colors",placeholder:"14",min:8,max:32})]}),e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"linkAnimation",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Anima√ß√£o / Destaque"}),e.jsxs(Ue,{value:i.animation,onValueChange:t=>B({...i,animation:t}),children:[e.jsx(ze,{id:"linkAnimation",className:"w-full h-10 sm:h-11 bg-muted/50 dark:bg-black/20 border border-border rounded-md text-sm px-3 outline-none focus:border-neon-blue/50 transition-colors text-foreground dark:text-white",children:e.jsx(He,{placeholder:"Selecione uma anima√ß√£o"})}),e.jsxs(Ve,{className:"bg-background dark:bg-[#161616] border-border",children:[e.jsx(k,{value:"none",children:"Nenhuma"}),e.jsx(k,{value:"pulse",children:"Pulsar (Pulse)"}),e.jsx(k,{value:"bounce",children:"Pular (Bounce)"}),e.jsx(k,{value:"glow",children:"Brilhar (Glow)"}),e.jsx(k,{value:"shake",children:"Tremer (Shake)"}),e.jsx(k,{value:"wiggle",children:"Ginga (Wiggle)"}),e.jsx(k,{value:"tada",children:"Tada"}),e.jsx(k,{value:"float",children:"Flutuar (Float)"}),e.jsx(k,{value:"jello",children:"Gelatina (Jello)"})]})]})]}),e.jsx("div",{className:"grid gap-1.5 sm:gap-2",children:e.jsx($s,{value:i.customStyle,onChange:t=>B({...i,customStyle:t}),defaultTextColor:r.buttonTextColor})}),r.layout==="shop"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(w,{className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Imagem do Produto"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Recomendado: 800x1000px (4:5)"})]}),xa&&!bt&&e.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs text-muted-foreground",children:[e.jsx("div",{className:"h-3 w-3 rounded-full border-2 border-muted-foreground/30 border-t-muted-foreground animate-spin"}),"Buscando dados do link..."]}),e.jsxs("div",{className:"h-24 sm:h-40 bg-muted/50 dark:bg-black/20 border-2 border-dashed border-border rounded-xl flex items-center justify-center relative group hover:border-neon-blue/50 hover:bg-neon-blue/5 transition-all cursor-pointer",children:[vr||i.image?e.jsxs("div",{className:"relative w-full h-full p-2",children:[e.jsx("img",{src:vr||i.image,alt:i.title?`Pr√©via da imagem do produto ${i.title}`:"Pr√©via da imagem do produto",className:"w-full h-full object-contain rounded-lg"}),e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg",children:e.jsx(Ur,{className:"w-6 h-6 text-white"})})]}):e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-muted dark:bg-muted/10 flex items-center justify-center mx-auto mb-2 sm:mb-3 group-hover:scale-110 transition-transform",children:e.jsx(De,{className:"w-4 h-4 sm:w-6 sm:h-6 text-muted-foreground group-hover:text-neon-blue transition-colors"})}),e.jsx("span",{className:"text-[10px] sm:text-sm text-muted-foreground font-medium",children:"Clique para enviar imagem"})]}),e.jsx("input",{type:"file",onChange:async t=>{const s=t.target.files?.[0];if(t.target.value="",!s)return;const c=++Gt.current,n=()=>c===Gt.current;Ne("manual"),ge(!1),Se.current+=1,Ce.current=null,We.current=null;const h=i.image,f=URL.createObjectURL(s);Ot(st.current),st.current=f,rt(f),at(!0);try{Xt(s);const p=await ct(yr(s,"product"),3e4,"Tempo excedido ao enviar a imagem.");if(!n())return;B(m=>({...m,image:p}));try{await ct(Qe([h]),12e3,"Tempo excedido ao finalizar o envio.")}catch{}if(!n())return;L.success("Imagem enviada!")}catch(p){n()&&L.error(Jt(p))}finally{n()&&(at(!1),rt(null)),st.current===f&&(st.current=null),URL.revokeObjectURL(f)}},className:"absolute inset-0 opacity-0 cursor-pointer z-10",accept:W,disabled:bt}),bt&&e.jsx("div",{className:"absolute inset-0 rounded-xl bg-black/50 flex items-center justify-center z-20",children:e.jsxs("div",{className:"flex items-center gap-2 text-white text-xs sm:text-sm font-medium",children:[e.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-white/30 border-t-white animate-spin"}),"Enviando..."]})})]})]}),e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"description",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Descri√ß√£o"}),e.jsx(q,{id:"description",value:i.description,onChange:t=>B({...i,description:t.target.value}),className:"bg-muted/50 dark:bg-black/20 border-border dark:border-white/10 h-10 sm:h-11 text-sm focus:border-neon-blue/50 transition-colors",placeholder:"Breve descri√ß√£o do produto"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"currency",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Moeda"}),e.jsxs(Ue,{value:i.currency,onValueChange:t=>B({...i,currency:t}),children:[e.jsx(ze,{className:"w-full h-10 sm:h-11 bg-muted/50 dark:bg-black/20 border border-border dark:border-white/10 rounded-md text-sm px-3 outline-none focus:border-neon-blue/50 transition-colors",children:e.jsx(He,{placeholder:"Selecione a moeda"})}),e.jsxs(Ve,{className:"bg-background dark:bg-popover border-border",children:[e.jsx(k,{value:"R$",children:"R$ Real"}),e.jsx(k,{value:"$",children:"$ D√≥lar"}),e.jsx(k,{value:"‚Ç¨",children:"‚Ç¨ Euro"}),e.jsx(k,{value:"¬£",children:"¬£ Libra"}),e.jsx(k,{value:"¬•",children:"¬• Iene"})]})]})]}),e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"price",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Pre√ßo"}),e.jsx(q,{id:"price",value:i.price,onChange:t=>B({...i,price:t.target.value}),className:"bg-muted/50 dark:bg-black/20 border-border dark:border-white/10 h-10 sm:h-11 text-sm focus:border-neon-blue/50 transition-colors",placeholder:"0,00"})]}),e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"category",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Categoria"}),e.jsxs(Ue,{value:i.category,onValueChange:t=>B({...i,category:t}),children:[e.jsx(ze,{className:"w-full h-10 sm:h-11 bg-muted/50 dark:bg-black/20 border border-border dark:border-white/10 rounded-md text-sm px-3 outline-none focus:border-neon-blue/50 transition-colors",children:e.jsx(He,{placeholder:"Selecione uma categoria"})}),e.jsx(Ve,{className:"bg-background dark:bg-popover border-border",children:r.shopCategories?.map(t=>e.jsx(k,{value:t.name,children:t.name},t.id))})]})]})]}),e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"buttonLabel",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Texto do bot√£o de compra"}),e.jsx(q,{id:"buttonLabel",value:i.buttonLabel,onChange:t=>B({...i,buttonLabel:t.target.value}),className:"bg-muted/50 dark:bg-black/20 border-border dark:border-white/10 h-10 sm:h-11 text-sm focus:border-neon-blue/50 transition-colors",placeholder:"Comprar"})]}),e.jsxs("div",{className:"grid gap-1.5 sm:gap-2",children:[e.jsx(w,{htmlFor:"badgeLabel",className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Tag do produto"}),e.jsx(q,{id:"badgeLabel",value:i.badgeLabel,onChange:t=>B({...i,badgeLabel:t.target.value}),className:"bg-muted/50 dark:bg-black/20 border-border dark:border-white/10 h-10 sm:h-11 text-sm focus:border-neon-blue/50 transition-colors",placeholder:"Promo√ß√£o"})]}),e.jsxs("div",{className:"grid gap-2 sm:gap-3",children:[e.jsx(w,{className:"text-xs sm:text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Cor da tag"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["#000000","#FFFFFF","#EF4444","#F97316","#EAB308","#22C55E","#3B82F6","#8B5CF6","#EC4899"].map(t=>e.jsx("button",{type:"button",onClick:()=>B({...i,badgeColor:t}),className:`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shadow-sm ${i.badgeColor===t?"border-neon-blue scale-110 ring-2 ring-neon-blue/20":"border-border hover:scale-105 hover:border-neon-blue/50"}`,style:{backgroundColor:t},title:t,children:i.badgeColor===t&&e.jsx(At,{className:`w-4 h-4 ${["#FFFFFF","#EAB308","#22C55E"].includes(t)?"text-black":"text-white"}`})},t)),e.jsxs("div",{className:"relative group",title:"Cor personalizada",children:[e.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center overflow-hidden transition-all shadow-sm ${["#000000","#FFFFFF","#EF4444","#F97316","#EAB308","#22C55E","#3B82F6","#8B5CF6","#EC4899"].includes(i.badgeColor)?"border-border group-hover:scale-105 group-hover:border-neon-blue/50 bg-muted/50 dark:bg-muted/10":"border-neon-blue scale-110 ring-2 ring-neon-blue/20"}`,children:["#000000","#FFFFFF","#EF4444","#F97316","#EAB308","#22C55E","#3B82F6","#8B5CF6","#EC4899"].includes(i.badgeColor)?e.jsx(Ht,{className:"w-4 h-4 text-muted-foreground"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:i.badgeColor},children:e.jsx(At,{className:"w-4 h-4 text-white drop-shadow-md"})})}),e.jsx("input",{type:"color",value:i.badgeColor,onChange:t=>B({...i,badgeColor:t.target.value}),className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full rounded-full"})]})]})]})]})]}),e.jsxs(Tr,{className:"mt-4 sm:mt-6 flex flex-col-reverse sm:flex-row gap-2 sm:gap-2",children:[e.jsx(ve,{variant:"ghost",onClick:()=>jt(!1),disabled:Ct,className:"hover:bg-muted dark:hover:bg-muted hover:text-foreground dark:hover:text-foreground w-full sm:w-auto h-10 text-sm",children:"Cancelar"}),e.jsxs(ve,{onClick:()=>{Na()},disabled:!qr({isLoading:x,pageId:l,userId:a?.id,isDirtyAfterBlur:It,isRevalidating:wr,isSaving:Ct,isToolsEnabled:u?u.isPageToolsEnabled():!0}),className:"bg-neon-blue text-black hover:bg-neon-blue/80 w-full sm:w-auto h-10 text-sm font-bold flex items-center justify-center gap-2",children:[Ct&&e.jsx(Mt,{className:"w-4 h-4 animate-spin"}),K?"Salvar Altera√ß√µes":"Adicionar Item"]})]})]})}),e.jsx(os,{axis:"y",values:M,onReorder:fe,className:"space-y-4",children:M.map(t=>e.jsx(ns,{value:t,children:e.jsxs("div",{className:"bg-card dark:bg-white/5 border border-border dark:border-white/10 rounded-xl p-3 sm:p-4 flex items-center gap-3 group hover:border-neon-blue/50 transition-colors relative overflow-hidden",children:[e.jsx("div",{className:"cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground shrink-0 flex items-center self-stretch",children:e.jsx(ls,{className:"w-5 h-5"})}),(r.layout==="shop"||t.type==="product")&&e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-muted dark:bg-black/40 rounded-lg shrink-0 border border-border dark:border-white/10 flex items-center justify-center overflow-hidden",children:t.image?e.jsx("img",{src:t.image,alt:"",className:"w-full h-full object-cover"}):e.jsx(De,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0 py-1",children:[e.jsx("div",{className:"flex items-center justify-between gap-2 mb-1",children:e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-foreground dark:text-white truncate",children:t.title})}),e.jsx("p",{className:"text-xs text-muted-foreground truncate mb-1.5",children:t.url}),(r.layout==="shop"||t.type==="product")&&e.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[t.price&&e.jsx("span",{className:"bg-neon-blue/10 text-neon-blue px-1.5 py-0.5 rounded text-[10px] sm:text-xs font-medium",children:(t.currency||"R$")+" "+t.price}),t.category&&e.jsx("span",{className:"bg-muted dark:bg-muted/20 text-muted-foreground px-1.5 py-0.5 rounded text-[10px] sm:text-xs",children:t.category}),t.badgeLabel&&e.jsx("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded font-bold uppercase hidden sm:inline-block",children:t.badgeLabel})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-2 border-l border-border pl-2 sm:pl-4 ml-1",children:[e.jsx(Dt,{checked:t.enabled,onCheckedChange:s=>Sa(t.id,"enabled",s),className:"scale-75 sm:scale-100"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-1",children:[e.jsx("button",{type:"button",onClick:()=>ya(t),className:"p-1.5 hover:bg-neon-blue/20 rounded-lg text-muted-foreground hover:text-neon-blue transition-colors","aria-label":"Editar item",children:e.jsx(Ur,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),e.jsx("button",{type:"button",onClick:()=>ka(t.id),className:"p-1.5 hover:bg-red-500/20 rounded-lg text-muted-foreground hover:text-red-500 transition-colors","aria-label":"Excluir item",children:e.jsx(ur,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]})},t.id))})]}),e.jsxs(qe,{value:"design",className:"mt-0 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{className:"text-lg font-semibold",children:"Tema da P√°gina"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{id:"classic",label:"Cl√°ssico",desc:"Lista simples e elegante",icon:e.jsxs("div",{className:"flex flex-col gap-1 w-6",children:[e.jsx("div",{className:"h-1 w-full bg-current rounded-full opacity-40"}),e.jsx("div",{className:"h-1 w-3/4 bg-current rounded-full mx-auto"}),e.jsx("div",{className:"h-1 w-full bg-current rounded-full opacity-40"})]})},{id:"grid",label:"Grade",desc:"Visual moderno em cards",icon:e.jsxs("div",{className:"grid grid-cols-2 gap-1 w-6",children:[e.jsx("div",{className:"h-2 w-full bg-current rounded-sm"}),e.jsx("div",{className:"h-2 w-full bg-current rounded-sm"}),e.jsx("div",{className:"h-2 w-full bg-current rounded-sm"}),e.jsx("div",{className:"h-2 w-full bg-current rounded-sm"})]})},{id:"shop",label:"Loja",desc:"Vitrine de produtos",icon:e.jsxs("div",{className:"relative w-6 h-6",children:[e.jsx(fs,{className:"w-full h-full"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-neon-blue rounded-full border-2 border-black"})]})}].map(t=>e.jsxs("button",{onClick:()=>Ta(t.id),className:`group relative p-6 rounded-2xl border transition-all duration-300 overflow-hidden flex flex-col items-center gap-3 text-center ${r.layout===t.id?"border-neon-blue bg-neon-blue/10 shadow-[0_0_20px_rgba(0,242,255,0.1)]":"border-border bg-muted/30 dark:bg-muted/10 hover:bg-muted/50 dark:hover:bg-muted/20 hover:border-border hover:-translate-y-1"}`,children:[e.jsx("div",{className:`p-3 rounded-full transition-colors duration-300 ${r.layout===t.id?"bg-neon-blue text-black":"bg-muted dark:bg-muted/20 text-foreground dark:text-white group-hover:bg-muted/80 dark:group-hover:bg-muted/30"}`,children:t.icon}),e.jsxs("div",{children:[e.jsx("span",{className:`block font-bold text-lg mb-1 transition-colors ${r.layout===t.id?"text-neon-blue":"text-foreground dark:text-white"}`,children:t.label}),e.jsx("span",{className:"text-xs text-muted-foreground group-hover:text-foreground/70 dark:group-hover:text-white/70 transition-colors",children:t.desc})]}),r.layout===t.id&&e.jsx(Ze.div,{layoutId:"activeTheme",className:"absolute inset-0 border-2 border-neon-blue rounded-2xl pointer-events-none",transition:{type:"spring",bounce:.2,duration:.6}})]},t.id))})]}),(r.layout==="classic"||r.layout==="grid")&&e.jsxs("div",{className:"space-y-6 border-b border-border dark:border-white/10 pb-6",children:[e.jsx("div",{className:"flex flex-col items-center mb-8",children:e.jsxs("div",{className:"relative group cursor-pointer",children:[e.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-border group-hover:border-neon-blue transition-colors",children:e.jsx("img",{src:T||z,alt:"Foto do perfil",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(De,{className:"w-6 h-6 text-white"})}),e.jsx("input",{type:"file",onChange:t=>_t(t,"profile"),className:"absolute inset-0 opacity-0 cursor-pointer rounded-full z-10",accept:W,disabled:pe}),pe&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-white text-xs font-medium",children:[e.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-white/30 border-t-white animate-spin"}),"Enviando..."]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Nome de Usu√°rio / Marca"}),e.jsx(q,{value:_,onChange:t=>E(t.target.value),className:"glass-card border-border"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Biografia Curta"}),e.jsx(q,{value:C,onChange:t=>R(t.target.value),className:"glass-card border-border"})]})]})]}),r.layout==="shop"&&e.jsxs("div",{className:"space-y-6 border-t border-border pt-6 animate-in fade-in slide-in-from-top-4",children:[e.jsxs("div",{className:"flex items-center justify-between bg-muted/30 dark:bg-muted/10 p-4 rounded-lg border border-border",children:[e.jsxs(w,{className:"text-lg font-semibold flex items-center gap-2",children:[r.shopThemeMode==="light"?e.jsx(Ga,{className:"w-5 h-5 text-yellow-400"}):e.jsx(qa,{className:"w-5 h-5 text-neon-blue"}),"Modo ",r.shopThemeMode==="light"?"Claro":"Escuro"]}),e.jsx(Dt,{checked:r.shopThemeMode==="dark",onCheckedChange:t=>y({...r,shopThemeMode:t?"dark":"light"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(w,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Wr,{className:"w-5 h-5 text-neon-blue"}),"Nome da Loja (Cabe√ßalho)"]}),e.jsxs("div",{className:"flex gap-2 bg-muted/30 dark:bg-muted/20 p-1 rounded-lg border border-border/50 mb-4",children:[e.jsx("button",{onClick:async()=>{const t=r.shopHeaderImage;y({...r,shopHeaderType:"text",shopHeaderImage:""}),t&&await Qe([t])},className:`flex-1 py-2 rounded-md text-xs font-bold transition-all ${r.shopHeaderType==="text"?"bg-neon-blue text-black shadow-lg":"text-muted-foreground hover:text-foreground dark:hover:text-white hover:bg-muted dark:hover:bg-white/5"}`,children:"Texto"}),e.jsx("button",{onClick:()=>y({...r,shopHeaderType:"image"}),className:`flex-1 py-2 rounded-md text-xs font-bold transition-all ${r.shopHeaderType==="image"?"bg-neon-blue text-black shadow-lg":"text-muted-foreground hover:text-foreground dark:hover:text-white hover:bg-muted dark:hover:bg-white/5"}`,children:"Imagem"})]}),r.shopHeaderType==="text"?e.jsxs("div",{className:"space-y-4 animate-in fade-in zoom-in-95 duration-200",children:[e.jsx(q,{value:r.shopHeaderText||"",onChange:t=>y({...r,shopHeaderText:t.target.value}),className:"bg-muted/50 dark:bg-muted/20 border-border font-bold text-lg",placeholder:"Nome da Loja"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{className:"text-xs text-muted-foreground",children:"Fonte"}),e.jsxs(Ue,{value:r.shopHeaderFontFamily,onValueChange:t=>y({...r,shopHeaderFontFamily:t}),children:[e.jsx(ze,{className:"w-full bg-muted/50 dark:bg-muted/20 border border-border rounded-md p-2 text-xs outline-none focus:border-neon-blue",children:e.jsx(He,{placeholder:"Selecione a fonte"})}),e.jsxs(Ve,{className:"bg-background dark:bg-popover border-border",children:[e.jsx(k,{value:"sans",children:"Sans Serif"}),e.jsx(k,{value:"serif",children:"Serif"}),e.jsx(k,{value:"mono",children:"Monospace"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{className:"text-xs text-muted-foreground",children:"Peso"}),e.jsxs(Ue,{value:r.shopHeaderFontWeight,onValueChange:t=>y({...r,shopHeaderFontWeight:t}),children:[e.jsx(ze,{className:"w-full bg-muted/50 dark:bg-muted/20 border border-border rounded-md p-2 text-xs outline-none focus:border-neon-blue",children:e.jsx(He,{placeholder:"Selecione o peso"})}),e.jsxs(Ve,{className:"bg-background dark:bg-popover border-border",children:[e.jsx(k,{value:"normal",children:"Normal"}),e.jsx(k,{value:"medium",children:"M√©dio"}),e.jsx(k,{value:"bold",children:"Negrito"}),e.jsx(k,{value:"extrabold",children:"Extra Negrito"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"text-xs text-muted-foreground",children:"Tamanho da Marca"}),e.jsx(Oa,{children:e.jsxs(Ka,{children:[e.jsx(Wa,{children:e.jsx(xs,{className:"w-3.5 h-3.5 text-muted-foreground hover:text-foreground transition-colors"})}),e.jsx(Ya,{children:e.jsx("p",{children:"Defina o tamanho do nome da sua loja no cabe√ßalho."})})]})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"base",label:"Pequena"},{value:"xl",label:"M√©dia"},{value:"2xl",label:"Grande"}].map(t=>e.jsx("button",{onClick:()=>y({...r,shopHeaderFontSize:t.value}),className:`
                                          py-2 rounded-lg border text-sm font-medium transition-all duration-200
                                          ${r.shopHeaderFontSize===t.value||t.value==="base"&&r.shopHeaderFontSize==="sm"||t.value==="xl"&&r.shopHeaderFontSize==="lg"?"bg-neon-blue border-neon-blue text-black shadow-sm font-bold":"bg-muted/50 dark:bg-muted/20 border-border hover:bg-muted dark:hover:bg-muted/30 hover:border-neon-blue/30"}
                                        `,children:t.label},t.value))})]})]}):e.jsx("div",{className:"animate-in fade-in zoom-in-95 duration-200",children:e.jsxs("div",{className:"h-20 bg-muted/50 dark:bg-muted/40 rounded-lg border-2 border-dashed border-border flex items-center justify-center relative group overflow-hidden",children:[r.shopHeaderImage?e.jsx("img",{src:r.shopHeaderImage,alt:"Header Logo",className:"h-full object-contain p-2"}):e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"w-6 h-6 mx-auto mb-1 text-muted-foreground"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Enviar Imagem"})]}),e.jsx("input",{type:"file",onChange:t=>_t(t,"shop-header"),className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(w,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-neon-blue"}),"Banner da Loja",e.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(1200x600)"})]}),e.jsxs("div",{className:"aspect-[2/1] bg-muted/50 dark:bg-muted/20 rounded-lg border-2 border-dashed border-border flex items-center justify-center relative group overflow-hidden",children:[r.shopBannerImage?e.jsx("img",{src:r.shopBannerImage,alt:"Banner",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"text-center p-4",children:[e.jsx(De,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Banner Principal (1200x600)"})]}),r.shopBannerImage&&!Et&&e.jsx("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),Ca()},className:"absolute top-2 right-2 z-30 h-8 w-8 rounded-full bg-black/70 hover:bg-black/80 text-white flex items-center justify-center transition-colors","aria-label":"Remover banner",children:e.jsx(ur,{className:"w-4 h-4"})}),e.jsx("input",{type:"file",onChange:t=>_t(t,"shop-banner"),className:"absolute inset-0 opacity-0 cursor-pointer z-10",accept:"image/*"}),Et&&e.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center p-4 text-center z-20 animate-in fade-in zoom-in-95 duration-300",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center mb-2 animate-pulse",children:e.jsx(Ja,{className:"w-6 h-6 text-red-500"})}),e.jsx("span",{className:"text-sm font-bold text-red-500 animate-pulse mb-1",children:"Erro de Dimens√£o"}),e.jsx("span",{className:"text-xs text-white/90",children:Et}),e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),Bt(null)},className:"mt-3 px-3 py-1 bg-white/10 hover:bg-white/20 rounded-full text-[10px] text-white transition-colors",children:"Tentar Novamente"})]}),!Et&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:e.jsx("span",{className:"text-xs font-bold text-white",children:"Alterar Banner"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"space-y-2 bg-muted/30 dark:bg-muted/10 p-3 rounded-lg border border-border",children:[e.jsx(w,{className:"mb-2 block",children:"Posi√ß√£o do Texto"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>y({...r,shopBannerPosition:"inside"}),className:`
                                       py-2 px-3 rounded-lg border text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2
                                       ${r.shopBannerPosition==="inside"||!r.shopBannerPosition?"bg-neon-blue border-neon-blue text-black shadow-sm font-bold":"bg-muted/50 dark:bg-muted/20 border-border hover:bg-muted dark:hover:bg-muted/30 hover:border-neon-blue/30"}
                                     `,children:[e.jsx(mr,{className:"w-4 h-4"}),"No Banner"]}),e.jsxs("button",{onClick:()=>y({...r,shopBannerPosition:"outside"}),className:`
                                       py-2 px-3 rounded-lg border text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2
                                       ${r.shopBannerPosition==="outside"?"bg-neon-blue border-neon-blue text-black shadow-sm font-bold":"bg-muted/50 dark:bg-muted/20 border-border hover:bg-muted dark:hover:bg-muted/30 hover:border-neon-blue/30"}
                                     `,children:[e.jsx(cs,{className:"w-4 h-4"}),"Abaixo"]})]})]}),e.jsxs("div",{className:"space-y-2 bg-muted/30 dark:bg-muted/10 p-3 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(w,{children:"T√≠tulo Principal"}),e.jsx(Dt,{checked:r.shopBannerShowTitle!==!1,onCheckedChange:t=>y({...r,shopBannerShowTitle:t})})]}),r.shopBannerShowTitle!==!1&&e.jsx(q,{value:r.shopBannerTitle||"",onChange:t=>y({...r,shopBannerTitle:t.target.value}),className:"bg-muted/50 dark:bg-muted/20 border-border",placeholder:"Ex: Nova Cole√ß√£o"})]}),e.jsxs("div",{className:"space-y-2 bg-muted/30 dark:bg-muted/10 p-3 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(w,{children:"Subt√≠tulo (Etiqueta)"}),e.jsx(Dt,{checked:r.shopBannerShowSubtitle!==!1,onCheckedChange:t=>y({...r,shopBannerShowSubtitle:t})})]}),r.shopBannerShowSubtitle!==!1&&e.jsx(q,{value:r.shopBannerSubtitle||"",onChange:t=>y({...r,shopBannerSubtitle:t.target.value}),className:"bg-muted/50 dark:bg-muted/20 border-border",placeholder:"Ex: Confira as novidades"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(w,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Xa,{className:"w-5 h-5 text-neon-blue"}),"Categorias"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{value:we,onChange:t=>ue(t.target.value),className:"bg-muted/50 dark:bg-muted/20 border-border",placeholder:"Nova Categoria...",onKeyDown:t=>t.key==="Enter"&&kr()}),e.jsx(or,{onClick:kr,className:"w-12 flex items-center justify-center p-0",children:e.jsx(Zt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.shopCategories?.map(t=>e.jsxs("div",{className:"group flex items-center gap-2 bg-muted dark:bg-muted/20 border border-border px-3 py-2 rounded-lg hover:border-neon-blue/50 transition-all",children:[e.jsx("span",{className:"text-sm font-medium text-foreground/80 dark:text-foreground/80",children:t.name}),e.jsx("button",{onClick:()=>{Ia(t.id)},className:"text-muted-foreground/50 hover:text-red-500 dark:text-muted-foreground/50 transition-colors",children:e.jsx(Rt,{className:"w-4 h-4"})})]},t.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(w,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ps,{className:"w-5 h-5 text-neon-blue"}),"Redes Sociais & Rodap√©"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ue,{value:Q.icon,onValueChange:t=>H({...Q,icon:t}),children:[e.jsx(ze,{className:"w-[140px] bg-muted/50 dark:bg-muted/20 border-border",children:e.jsx(He,{})}),e.jsxs(Ve,{className:"bg-background dark:bg-popover border-border",children:[e.jsx(k,{value:"whatsapp",children:"WhatsApp"}),e.jsx(k,{value:"instagram",children:"Instagram"}),e.jsx(k,{value:"twitter",children:"X / Twitter"}),e.jsx(k,{value:"facebook",children:"Facebook"}),e.jsx(k,{value:"youtube",children:"YouTube"}),e.jsx(k,{value:"tiktok",children:"TikTok"}),e.jsx(k,{value:"linkedin",children:"LinkedIn"}),e.jsx(k,{value:"email",children:"Email"}),e.jsx(k,{value:"phone",children:"Telefone"}),e.jsx(k,{value:"map",children:"Endere√ßo"})]})]}),e.jsx(q,{value:Q.url,onChange:t=>H({...Q,url:t.target.value}),className:"flex-1 bg-muted/50 dark:bg-muted/20 border-border",placeholder:"URL ou Info...",onKeyDown:t=>t.key==="Enter"&&Sr()}),e.jsx(or,{onClick:Sr,className:"w-12 flex items-center justify-center p-0",children:e.jsx(Zt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.shopSocials?.map(t=>e.jsxs("div",{className:"group flex items-center gap-2 bg-muted dark:bg-muted/20 border border-border px-3 py-2 rounded-lg hover:border-neon-blue/50 transition-all",children:[t.icon==="whatsapp"&&e.jsx(Fr,{className:"w-4 h-4 text-green-500"}),t.icon==="instagram"&&e.jsx(Pr,{className:"w-4 h-4 text-pink-500"}),t.icon==="twitter"&&e.jsx(Lr,{className:"w-4 h-4 text-blue-400"}),t.icon==="facebook"&&e.jsx(Er,{className:"w-4 h-4 text-blue-600"}),t.icon==="youtube"&&e.jsx(Br,{className:"w-4 h-4 text-red-500"}),t.icon==="tiktok"&&e.jsx(_r,{className:"w-4 h-4 text-pink-400"}),t.icon==="linkedin"&&e.jsx(Rr,{className:"w-4 h-4 text-blue-700"}),t.icon==="email"&&e.jsx(Dr,{className:"w-4 h-4 text-yellow-500"}),t.icon==="phone"&&e.jsx(Mr,{className:"w-4 h-4 text-green-400"}),t.icon==="map"&&e.jsx(Ar,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-sm font-medium text-foreground/80 dark:text-white/80 truncate max-w-[150px]",children:t.url}),e.jsx("button",{onClick:()=>Fa(t.id),className:"text-muted-foreground/50 hover:text-red-500 dark:text-white/20 transition-colors",children:e.jsx(Rt,{className:"w-4 h-4"})})]},t.id))})]})]}),r.layout!=="shop"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{className:"text-lg font-semibold",children:"Fundo"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("button",{onClick:()=>y({...r,backgroundType:"solid"}),className:`p-4 rounded-xl border ${r.backgroundType==="solid"?"border-neon-blue bg-neon-blue/10":"border-border bg-muted/30 dark:bg-muted/20"}`,children:"Cor S√≥lida"}),e.jsx("button",{onClick:()=>y({...r,backgroundType:"gradient"}),className:`p-4 rounded-xl border ${r.backgroundType==="gradient"?"border-neon-blue bg-neon-blue/10":"border-border bg-muted/30 dark:bg-muted/10"}`,children:"Gradiente"}),e.jsx("button",{onClick:()=>y({...r,backgroundType:"image"}),className:`p-4 rounded-xl border ${r.backgroundType==="image"?"border-neon-blue bg-neon-blue/10":"border-border bg-muted/30 dark:bg-muted/20"}`,children:"Imagem"})]}),r.backgroundType==="solid"&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(q,{type:"color",value:r.backgroundColor,onChange:t=>y({...r,backgroundColor:t.target.value}),className:"w-12 h-12 p-1 rounded-lg bg-transparent border-border cursor-pointer"}),e.jsx(w,{children:"Cor de Fundo"})]}),r.backgroundType==="gradient"&&e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(w,{children:"Cor Inicial"}),e.jsx(q,{type:"color",value:r.backgroundGradientFrom,onChange:t=>y({...r,backgroundGradientFrom:t.target.value}),className:"w-full h-10 p-1 rounded-lg bg-transparent border-border dark:border-white/10 cursor-pointer"})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(w,{children:"Cor Final"}),e.jsx(q,{type:"color",value:r.backgroundGradientTo,onChange:t=>y({...r,backgroundGradientTo:t.target.value}),className:"w-full h-10 p-1 rounded-lg bg-transparent border-border dark:border-white/10 cursor-pointer"})]})]}),r.backgroundType==="image"&&e.jsxs("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:border-neon-blue/50 transition-colors relative",children:[e.jsx("input",{type:"file",onChange:t=>_t(t,"bg"),className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*"}),e.jsx(De,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique para enviar imagem"})]})]}),r.layout!=="shop"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{className:"text-lg font-semibold",children:"Estilo dos Bot√µes"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:[{id:"rounded",label:"Redondo"},{id:"square",label:"Quadrado"},{id:"pill",label:"P√≠lula"},{id:"glass",label:"Glass"},{id:"neon",label:"Neon"},{id:"glitch",label:"Glitch"},{id:"brutalist",label:"Brutal"},{id:"minimal",label:"Minimal"},{id:"liquid",label:"L√≠quido"},{id:"cyberpunk",label:"Cyber"}].map(t=>e.jsx("button",{onClick:()=>y({...r,buttonStyle:t.id}),className:`p-2 text-xs rounded-lg border transition-all ${r.buttonStyle===t.id?"border-neon-blue bg-neon-blue text-black font-bold":"border-border bg-muted/30 dark:bg-muted/10 hover:bg-muted/50 dark:hover:bg-muted/20"}`,children:t.label},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 pt-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{className:"text-sm font-medium text-muted-foreground dark:text-muted-foreground",children:"Cor do Fundo do Bot√£o"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative w-10 h-10 rounded-lg overflow-hidden border border-border shadow-inner",children:e.jsx("input",{type:"color",value:r.buttonColor,onChange:t=>y({...r,buttonColor:t.target.value}),className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 border-0 cursor-pointer"})}),e.jsx(q,{value:r.buttonColor,onChange:t=>y({...r,buttonColor:t.target.value}),className:"flex-1 h-10 bg-muted/50 dark:bg-muted/10 border-border font-mono text-xs uppercase"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{className:"text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Cor do Texto do Bot√£o"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative w-10 h-10 rounded-lg overflow-hidden border border-border dark:border-white/20 shadow-inner",children:e.jsx("input",{type:"color",value:r.buttonTextColor,onChange:t=>y({...r,buttonTextColor:t.target.value}),className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 border-0 cursor-pointer"})}),e.jsx(q,{value:r.buttonTextColor,onChange:t=>y({...r,buttonTextColor:t.target.value}),className:"flex-1 h-10 bg-muted/50 dark:bg-muted/10 border-border font-mono text-xs uppercase"})]})]}),e.jsxs("div",{className:"space-y-3 sm:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(w,{className:"text-sm font-medium text-muted-foreground dark:text-muted-foreground",children:"Transpar√™ncia do Fundo"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.buttonTransparency,"%"]})]}),e.jsx(ca,{defaultValue:[r.buttonTransparency],max:100,step:1,onValueChange:t=>y({...r,buttonTransparency:t[0]}),className:"py-2"})]})]})]}),r.layout!=="shop"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{className:"text-lg font-semibold",children:"Cores do Texto"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{className:"text-sm font-medium text-muted-foreground dark:text-gray-300",children:"Cor do Texto Principal"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative w-10 h-10 rounded-lg overflow-hidden border border-border shadow-inner",children:e.jsx("input",{type:"color",value:r.textColor,onChange:t=>y({...r,textColor:t.target.value}),className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 border-0 cursor-pointer"})}),e.jsx(q,{value:r.textColor,onChange:t=>y({...r,textColor:t.target.value}),className:"flex-1 h-10 bg-muted/50 dark:bg-muted/10 border-border font-mono text-xs uppercase"})]})]})]})]})]})]})})]}),e.jsx("div",{className:"lg:col-span-5 flex items-center justify-center bg-muted/30 dark:bg-muted/20 rounded-3xl p-4 lg:p-8 border border-border min-h-[600px] lg:min-h-0",children:e.jsxs("div",{className:"relative w-full max-w-[320px] aspect-[9/19] max-h-[680px] bg-black rounded-[2.5rem] lg:rounded-[3rem] border-[6px] lg:border-8 border-gray-300 dark:border-gray-800 shadow-2xl overflow-hidden transform scale-90 sm:scale-100 transition-transform",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-[2.5rem] lg:rounded-[3rem] bg-black",children:[e.jsx("style",{children:`
                  .no-scrollbar::-webkit-scrollbar { display: none; }
                  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                `}),r.layout==="shop"?e.jsxs("div",{className:`h-full flex flex-col font-sans selection:bg-neon-blue selection:text-black relative transition-colors duration-300 ${r.shopThemeMode==="light"?"bg-gray-50 text-gray-900":"bg-[#161616] text-gray-100"}`,children:[e.jsx("div",{className:`sticky top-0 z-40 backdrop-blur-md border-b transition-colors duration-300 ${r.shopThemeMode==="light"?"bg-white/90 border-black/5":"bg-[#161616]/90 border-white/5"}`,children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[r.shopLogo&&e.jsx("button",{className:`w-8 h-8 rounded-full overflow-hidden border transition-colors relative group ${r.shopThemeMode==="light"?"border-black/10 hover:border-neon-blue":"border-white/10 hover:border-neon-blue"}`,children:e.jsx("img",{src:r.shopLogo,alt:"Logo",className:"w-full h-full object-cover"})}),r.shopHeaderType==="image"&&r.shopHeaderImage?e.jsx("img",{src:r.shopHeaderImage,alt:"Logo",className:"h-8 object-contain"}):e.jsx("span",{className:`tracking-tight ${r.shopHeaderFontFamily==="serif"?"font-serif":r.shopHeaderFontFamily==="mono"?"font-mono":"font-sans"} ${r.shopHeaderFontSize==="sm"?"text-sm":r.shopHeaderFontSize==="base"?"text-base":r.shopHeaderFontSize==="xl"?"text-xl":r.shopHeaderFontSize==="2xl"?"text-2xl":"text-lg"} ${r.shopHeaderFontWeight==="normal"?"font-normal":r.shopHeaderFontWeight==="medium"?"font-medium":r.shopHeaderFontWeight==="extrabold"?"font-extrabold":"font-bold"} ${r.shopThemeMode==="light"?"text-gray-900":"text-white"}`,children:r.shopHeaderText||_.replace("@","")}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:`absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 ${r.shopThemeMode==="light"?"text-black/50":"text-white/50"}`}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:me,onChange:t=>oe(t.target.value),className:`rounded-full pl-8 pr-3 py-1.5 text-xs placeholder:text-opacity-50 focus:outline-none focus:border-neon-blue w-28 focus:w-40 transition-all border ${r.shopThemeMode==="light"?"bg-black/5 border-black/10 text-black placeholder:text-black/50":"bg-white/10 border-white/10 text-white placeholder:text-white/50"}`})]})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-24",children:[e.jsxs("div",{className:"relative aspect-[2/1] bg-gray-900 w-full overflow-hidden",children:[r.shopBannerImage?e.jsx("img",{src:r.shopBannerImage,alt:"Banner",className:"w-full h-full object-cover animate-in fade-in zoom-in duration-1000"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-violet-900 via-gray-900 to-black relative",children:e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"})}),(r.shopBannerShowTitle!==!1||r.shopBannerShowSubtitle!==!1)&&(r.shopBannerPosition==="inside"||!r.shopBannerPosition)&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#161616] via-[#161616]/40 to-transparent flex flex-col justify-end p-6",children:e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3 max-w-[80%]",children:[r.shopBannerShowTitle!==!1&&e.jsx("h2",{className:"text-3xl font-bold text-white leading-none drop-shadow-xl",children:r.shopBannerTitle||"Ver√£o 2024"}),r.shopBannerShowSubtitle!==!1&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-white/10 backdrop-blur-md border border-white/10 rounded text-[9px] font-bold uppercase tracking-widest text-white",children:r.shopBannerSubtitle||"Nova Cole√ß√£o"})]})})]}),r.shopBannerPosition==="outside"&&(r.shopBannerShowTitle!==!1||r.shopBannerShowSubtitle!==!1)&&e.jsxs("div",{className:"pt-6 px-4 pb-2 text-center space-y-2",children:[r.shopBannerShowTitle!==!1&&e.jsx("h2",{className:`text-2xl font-bold leading-tight ${r.shopThemeMode==="light"?"text-gray-900":"text-white"}`,children:r.shopBannerTitle||"Ver√£o 2024"}),r.shopBannerShowSubtitle!==!1&&e.jsx("p",{className:`text-sm ${r.shopThemeMode==="light"?"text-gray-600":"text-gray-400"}`,children:r.shopBannerSubtitle||"Nova Cole√ß√£o"})]}),e.jsxs("div",{className:`py-6 pl-4 border-b ${r.shopThemeMode==="light"?"border-black/5":"border-white/5"}`,children:[e.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Categorias"}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto py-4 px-4 no-scrollbar",children:[e.jsx(Ze.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>te(null),className:`px-4 py-2 rounded-full text-xs font-medium whitespace-nowrap transition-all border ${je===null?r.shopThemeMode==="light"?"bg-black text-white border-black font-bold shadow-lg":"bg-white text-black border-white font-bold shadow-lg":r.shopThemeMode==="light"?"bg-black/5 text-black/70 border-black/10 hover:bg-black/10 hover:text-black hover:border-black/30":"bg-white/5 text-white/70 border-white/10 hover:bg-white/10 hover:text-white hover:border-white/30"}`,children:"Tudo"}),r.shopCategories?.map(t=>e.jsx(Ze.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>te(t.name),className:`px-4 py-2 rounded-full text-xs font-medium whitespace-nowrap transition-all border ${je===t.name?r.shopThemeMode==="light"?"bg-black text-white border-black font-bold shadow-lg":"bg-white text-black border-white font-bold shadow-lg":r.shopThemeMode==="light"?"bg-black/5 text-black/70 border-black/10 hover:bg-black/10 hover:text-black hover:border-black/30":"bg-white/5 text-white/70 border-white/10 hover:bg-white/10 hover:text-white hover:border-white/30"}`,children:t.name},t.id))]})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-bold text-lg ${r.shopThemeMode==="light"?"text-gray-900":"text-white"}`,children:"Destaques"}),e.jsx("button",{className:"text-xs text-neon-blue hover:text-white transition-colors",onClick:()=>{te(null),oe("")},children:"Ver todos"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:jr.filter(t=>t.enabled&&(t.type==="product"||t.type==="featured")&&(t.title||"").toLowerCase().includes(me.toLowerCase())&&(!je||t.category===je)).map(t=>e.jsxs("div",{className:"group cursor-pointer",children:[e.jsxs("div",{className:`aspect-[4/5] w-full rounded-xl overflow-hidden relative mb-3 border transition-colors ${r.shopThemeMode==="light"?"bg-black/5 border-black/5 group-hover:border-black/20":"bg-white/5 border-white/5 group-hover:border-white/20"}`,children:[t.image?e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):e.jsx("div",{className:`w-full h-full flex items-center justify-center ${r.shopThemeMode==="light"?"bg-black/5":"bg-white/5"}`,children:e.jsx(De,{className:`w-8 h-8 ${r.shopThemeMode==="light"?"text-black/20":"text-white/20"}`})}),t.badgeLabel&&e.jsx("div",{className:"absolute bottom-2 left-2 backdrop-blur px-2 py-1 rounded text-[10px] font-bold text-white border border-white/10",style:{backgroundColor:t.badgeColor?Hr(t.badgeColor,.7):"rgba(0,0,0,0.6)"},children:t.badgeLabel}),e.jsx("button",{className:`absolute top-2 right-2 w-8 h-8 rounded-full backdrop-blur flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0 ${r.shopThemeMode==="light"?"bg-white/50 text-black hover:bg-black hover:text-white":"bg-black/20 text-white hover:bg-white hover:text-black"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:`text-sm font-medium leading-tight line-clamp-2 transition-colors ${r.shopThemeMode==="light"?"text-gray-900 group-hover:text-neon-blue":"text-white group-hover:text-neon-blue"}`,children:t.title}),e.jsx("p",{className:"text-[10px] text-gray-500 line-clamp-1",children:t.description||"Sem descri√ß√£o"}),e.jsxs("div",{className:"pt-2 flex items-center justify-between gap-2",children:[e.jsx("span",{className:`text-xs font-bold ${r.shopThemeMode==="light"?"text-gray-900":"text-white"}`,children:t.price?(t.currency||"R$")+" "+t.price:"R$ --"}),e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:`flex-1 h-6 rounded-full flex items-center justify-center gap-1 hover:bg-neon-blue transition-colors px-2 ${r.shopThemeMode==="light"?"bg-black text-white":"bg-white text-black"}`,children:e.jsx("span",{className:"text-[9px] font-bold uppercase",children:t.buttonLabel||"Comprar"})})]})]})]},t.id))})]}),e.jsxs("div",{className:`mt-8 py-8 border-t px-6 text-center transition-colors ${r.shopThemeMode==="light"?"border-black/5 bg-gray-100":"border-white/5 bg-[#1a1a1a]"}`,children:[e.jsx("h4",{className:`font-bold mb-4 ${r.shopThemeMode==="light"?"text-gray-900":"text-white"}`,children:"Siga-nos"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:r.shopSocials?.map(t=>e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:`w-10 h-10 rounded-full border flex items-center justify-center transition-all cursor-pointer ${r.shopThemeMode==="light"?"bg-black/5 border-black/5 hover:bg-black hover:text-white text-gray-600":"bg-white/5 border-white/5 hover:bg-white hover:text-black text-white"}`,children:[t.icon==="whatsapp"&&e.jsx(Fr,{className:"w-5 h-5"}),t.icon==="instagram"&&e.jsx(Pr,{className:"w-5 h-5"}),t.icon==="twitter"&&e.jsx(Lr,{className:"w-5 h-5"}),t.icon==="facebook"&&e.jsx(Er,{className:"w-5 h-5"}),t.icon==="youtube"&&e.jsx(Br,{className:"w-5 h-5"}),t.icon==="tiktok"&&e.jsx(_r,{className:"w-5 h-5"}),t.icon==="linkedin"&&e.jsx(Rr,{className:"w-5 h-5"}),t.icon==="email"&&e.jsx(Dr,{className:"w-5 h-5"}),t.icon==="phone"&&e.jsx(Mr,{className:"w-4 h-4"}),t.icon==="map"&&e.jsx(Ar,{className:"w-4 h-4"})]},t.id))}),e.jsxs("p",{className:"text-[10px] text-gray-600 max-w-[200px] mx-auto",children:["Copyright ¬© ",new Date().getFullYear()," ",r.shopHeaderText||"Sua Loja"]})]})]})]}):e.jsxs("div",{className:"min-h-full w-full overflow-y-auto no-scrollbar p-6 pt-12 flex flex-col items-center",style:{background:r.backgroundType==="image"?`url(${r.backgroundImage}) center/cover no-repeat`:r.backgroundType==="gradient"?`linear-gradient(to bottom, ${r.backgroundGradientFrom}, ${r.backgroundGradientTo})`:r.backgroundColor},children:[e.jsxs("div",{className:"text-center mb-8 w-full",children:[e.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-white/20 mx-auto mb-4 shadow-lg",children:e.jsx("img",{src:T||z,alt:"Foto do perfil",className:"w-full h-full object-cover"})}),e.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:r.textColor},children:_}),e.jsx("p",{className:"text-sm opacity-80",style:{color:r.textColor},children:C})]}),e.jsx("div",{className:`w-full max-w-md mx-auto ${r.layout==="grid"?"grid grid-cols-2 gap-4":"space-y-4"}`,children:jr.filter(t=>t.enabled).map(t=>{const s=(t.title||"").length,c=s>60?"text-[9px] leading-[1.1]":s>40?"text-[10px] leading-3":"text-xs sm:text-sm leading-tight",n={...t.titleFontSize?{fontSize:`${t.titleFontSize}px`}:{},...t.customStyle?.textColor?{color:t.customStyle.textColor}:{}},h={...t.customStyle?.background?{background:t.customStyle.background}:{backgroundColor:["liquid"].includes(r.buttonStyle)?void 0:Hr(r.buttonColor,r.buttonTransparency/100)},color:t.customStyle?.textColor||r.buttonTextColor,borderColor:r.buttonStyle==="neon"?t.customStyle?.textColor||r.buttonTextColor:void 0,clipPath:r.buttonStyle==="cyberpunk"?"polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px)":void 0};return e.jsxs(Ze.a,{href:t.url||"#",target:t.url?"_blank":void 0,rel:t.url?"noopener noreferrer":void 0,whileHover:{scale:1.02},whileTap:{scale:.98},className:`block w-full relative overflow-hidden group transition-all px-4 text-center h-[56px] flex items-center justify-center ${r.buttonStyle==="rounded"?"rounded-lg":r.buttonStyle==="pill"?"rounded-full":r.buttonStyle==="square"?"rounded-none":r.buttonStyle==="glass"?"rounded-xl backdrop-blur-md bg-white/10 border border-white/20":r.buttonStyle==="neon"?"rounded-xl border border-current shadow-[0_0_10px_currentColor]":r.buttonStyle==="brutalist"?"rounded-none border-2 border-black shadow-[4px_4px_0px_0px_#000] bg-white text-black font-bold uppercase tracking-wider":r.buttonStyle==="minimal"?"rounded-none border-b border-current bg-transparent hover:tracking-widest":r.buttonStyle==="liquid"?"rounded-2xl bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 bg-[length:200%_auto] animate-gradient text-white font-bold shadow-lg":r.buttonStyle==="cyberpunk"?"clip-path-polygon bg-black border-l-4 border-neon-blue text-neon-blue font-mono tracking-widest hover:bg-neon-blue/10":r.buttonStyle==="glitch"?"rounded-sm border border-white/50 bg-black/50 font-mono tracking-wider hover:bg-white/10":""} ${t.animation==="pulse"?"animate-pulse":t.animation==="bounce"?"animate-bounce":t.animation==="glow"?"animate-glow shadow-lg":""}`,animate:t.animation==="pulse"?{scale:[1,1.02,1],transition:{repeat:1/0,duration:1.5,ease:"easeInOut"}}:t.animation==="bounce"?{y:[0,-6,0],transition:{repeat:1/0,duration:1.2,ease:"easeInOut"}}:t.animation==="glow"?{boxShadow:["0 0 0px rgba(255,255,255,0)","0 0 15px rgba(255,255,255,0.5)","0 0 0px rgba(255,255,255,0)"],transition:{repeat:1/0,duration:2}}:t.animation==="shake"?{x:[0,-5,5,-5,5,0],transition:{repeat:1/0,duration:2,repeatDelay:1}}:t.animation==="wiggle"?{rotate:[0,-5,5,-5,5,0],transition:{repeat:1/0,duration:2,repeatDelay:1}}:t.animation==="tada"?{scale:[1,.9,1.1,1.1,1.1,1.1,1.1,1.1,1],rotate:[0,-3,-3,3,-3,3,-3,3,-3,0],transition:{repeat:1/0,duration:1.5,repeatDelay:1}}:t.animation==="float"?{y:[0,-10,0],transition:{repeat:1/0,duration:3,ease:"easeInOut"}}:t.animation==="jello"?{scaleX:[1,1.25,.75,1.15,.95,1.05,1],scaleY:[1,.75,1.25,.85,1.05,.95,1],transition:{repeat:1/0,duration:1.5,repeatDelay:1}}:{},style:h,children:[r.buttonStyle==="glitch"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-white/50 animate-scanline"}),e.jsx("div",{className:"absolute inset-0 border border-white/20 translate-x-[1px] translate-y-[1px] opacity-50 mix-blend-overlay"})]}),r.buttonStyle==="liquid"&&e.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),r.layout==="grid"&&t.image&&e.jsx("div",{className:"absolute inset-0 opacity-40 group-hover:opacity-60 transition-opacity",children:e.jsx("img",{src:t.image,alt:"",className:"w-full h-full object-cover"})}),e.jsx("span",{className:`relative z-10 font-medium break-words w-full px-1 ${t.titleFontSize?"leading-tight":c} flex items-center justify-center h-full`,style:n,children:t.title})]},t.id)})}),e.jsx("div",{className:"mt-auto pt-8 pb-4 text-center",children:e.jsx("p",{className:"text-[10px] opacity-50",style:{color:r.textColor},children:"Criado com IAylle"})})]})]}),e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-black rounded-b-xl z-20"})]})})]})}),e.jsx(Ms,{isOpen:ma,onClose:()=>fr(!1)})]})}function ko(){return e.jsx(Aa,{children:e.jsx(Gs,{})})}export{ko as default};
