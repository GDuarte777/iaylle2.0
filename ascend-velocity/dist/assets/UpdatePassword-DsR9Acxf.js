import{j as t,E as w,o as s,L as j,G as N,N as v,H as o,I as g}from"./index-DidJ2IC_.js";import{G as b}from"./GlassCard-i8sBZgct.js";import{I as d}from"./input-RWOkaWNK.js";import{L as m}from"./label-i_K-zmDS.js";import{L as y}from"./Logo-kKC3Ri1E.js";import{E as S}from"./eye-off-B_hBQIHd.js";import"./index-DKXZ3643.js";function I(){const[a,u]=t.useState(""),[i,h]=t.useState(""),[n,p]=t.useState(!1),[l,c]=t.useState(!1),f=w(),x=async e=>{if(e.preventDefault(),a.length<6){o.error("A senha deve ter pelo menos 6 caracteres.");return}if(a!==i){o.error("As senhas nÃ£o coincidem.");return}c(!0);try{const{error:r}=await g.auth.updateUser({password:a});if(r)throw r;o.success("Senha atualizada com sucesso!"),f("/dashboard")}catch(r){o.error(r.message||"Erro ao atualizar senha.")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[s.jsx(j,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:s.jsx(y,{className:"h-12 w-auto",alt:"Guildas"})}),s.jsxs(b,{className:"p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Nova Senha"}),s.jsx("p",{className:"text-muted-foreground",children:"Digite sua nova senha abaixo"})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"password",children:"Nova Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(d,{id:"password",type:n?"text":"password",placeholder:"******",value:a,onChange:e=>u(e.target.value),className:"glass-card border-white/10 pr-10",required:!0}),s.jsx("button",{type:"button",onClick:()=>p(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:n?s.jsx(S,{className:"w-4 h-4"}):s.jsx(N,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),s.jsx(d,{id:"confirmPassword",type:"password",placeholder:"******",value:i,onChange:e=>h(e.target.value),className:"glass-card border-white/10",required:!0})]}),s.jsx(v,{type:"submit",variant:"neon",className:"w-full",disabled:l,children:l?"Atualizando...":"Atualizar Senha"})]})]})]})})}export{I as default};
