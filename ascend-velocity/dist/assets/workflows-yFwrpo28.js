const u=4;function d(e){return e>=4}function f(e){return`${e}/4`}function w(e){const r=e,o=r?.code,n=String(r?.message??""),t=String(r?.details??"");return!!(o==="42501"&&(n.includes("row-level security")||t.includes("row-level security")))}async function W(e){const{error:r}=await e.rpc("ensure_default_workflow");return{error:r??null}}function k(e){return(e??[]).map(r=>{const o=r?.data??{},{onDelete:n,onEdit:t,onUpdate:a,onTitleChange:i,onHandleClick:l,onHandleDisconnect:c,...s}=o;return{...r,data:s}})}async function I(e,r){const{workflowId:o,userId:n}=r;return{error:(await e.from("workflows").delete().eq("id",o).eq("user_id",n))?.error??null}}export{u as W,d as a,I as d,W as e,f as g,w as i,k as s};
